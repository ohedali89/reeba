(function(Y){var ht;(function(u,c){typeof define=="function"&&define.amd?define(function(){return c(u)}):c(u)})(this,function(u){return ht=function(){function c(o){return o==null?String(o):s[l.call(o)]||"object"}function f(o){return c(o)=="function"}function w(o){return o!=null&&o==o.window}function A(o){return c(o)=="object"}function R(o){return A(o)&&!w(o)&&Object.getPrototypeOf(o)==Object.prototype}function z(o){var p=!!o&&"length"in o&&o.length,g=b.type(o);return g!="function"&&!w(o)&&(g=="array"||p===0||typeof p=="number"&&0<p&&p-1 in o)}function $(o){return d.call(o,function(p){return p!=null})}function H(o){return o.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function q(o){return o in S?S[o]:S[o]=new RegExp("(^|\\s)"+o+"(\\s|$)")}function rt(o,p){return typeof p!="number"||D[H(o)]?p:p+"px"}function Q(o){return"children"in o?m.call(o.children):b.map(o.childNodes,function(p){if(p.nodeType==1)return p})}function it(o,p){var g,y=o?o.length:0;for(g=0;g<y;g++)this[g]=o[g];this.length=y,this.selector=p||""}function ot(o,p,g){for(M in p)g&&(R(p[M])||N(p[M]))?(R(p[M])&&!R(o[M])&&(o[M]={}),N(p[M])&&!N(o[M])&&(o[M]=[]),ot(o[M],p[M],g)):p[M]!==P&&(o[M]=p[M])}function tt(o,p){return p==null?b(o):b(o).filter(p)}function J(o,p,g,y){return f(p)?p.call(o,g,y):p}function K(o,p){var g=o.className||"",y=g&&g.baseVal!==P;if(p===P)return y?g.baseVal:g;y?g.baseVal=p:o.className=p}function a(o){try{return o&&(o=="true"||(o=="false"?!1:o=="null"?null:+o+""==o?+o:/^[\[\{]/.test(o)?b.parseJSON(o):o))}catch(p){return o}}function et(o,p){p(o);for(var g=0,y=o.childNodes.length;g<y;g++)et(o.childNodes[g],p)}var P,M,nt,B=[],ut=B.concat,d=B.filter,m=B.slice,_=u.document,k={},S={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},V=/^\s*<(\w+|!)[^>]*>/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,W=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/^(?:body|html)$/i,U=/([A-Z])/g,L="val css html text data width height offset".split(" "),G=_.createElement("table"),n=_.createElement("tr"),t={tr:_.createElement("tbody"),tbody:G,thead:G,tfoot:G,td:n,th:n,"*":_.createElement("div")},e=/complete|loaded|interactive/,r=/^[\w-]*$/,s={},l=s.toString,h={},x=_.createElement("div"),E={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},N=Array.isArray||function(o){return o instanceof Array};h.matches=function(o,p){if(!p||!o||o.nodeType!==1)return!1;var g=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.matchesSelector;if(g)return g.call(o,p);var y=o.parentNode;return(g=!y)&&(y=x).appendChild(o),p=~h.qsa(y,p).indexOf(o),g&&x.removeChild(o),p};var O=function(o){return o.replace(/-+(.)?/g,function(p,g){return g?g.toUpperCase():""})},X=function(o){return d.call(o,function(p,g){return o.indexOf(p)==g})};h.fragment=function(o,p,g){var y;if(T.test(o)&&(y=b(_.createElement(RegExp.$1))),!y){o.replace&&(o=o.replace(W,"<$1></$2>")),p===P&&(p=V.test(o)&&RegExp.$1),p in t||(p="*");var I=t[p];I.innerHTML=""+o,y=b.each(m.call(I.childNodes),function(){I.removeChild(this)})}if(R(g)){var F=b(y);b.each(g,function(lt,at){-1<L.indexOf(lt)?F[lt](at):F.attr(lt,at)})}return y},h.Z=function(o,p){return new it(o,p)},h.isZ=function(o){return o instanceof h.Z},h.init=function(o,p){if(o)if(typeof o=="string")if(o=o.trim(),o[0]=="<"&&V.test(o))p=h.fragment(o,RegExp.$1,p),o=null;else{if(p!==P)return b(p).find(o);p=h.qsa(_,o)}else{if(f(o))return b(_).ready(o);if(h.isZ(o))return o;if(N(o))p=$(o);else if(A(o))p=[o],o=null;else if(V.test(o))p=h.fragment(o.trim(),RegExp.$1,p),o=null;else{if(p!==P)return b(p).find(o);p=h.qsa(_,o)}}else return h.Z();return h.Z(p,o)};var b=function(o,p){return h.init(o,p)};return b.extend=function(o){var p=m.call(arguments,1);if(typeof o=="boolean"){var g=o;o=p.shift()}return p.forEach(function(y){ot(o,y,g)}),o},h.qsa=function(o,p){var g,y=p[0]=="#",I=!y&&p[0]==".",F=y||I?p.slice(1):p,lt=r.test(F);return o.getElementById&&lt&&y?(g=o.getElementById(F))?[g]:[]:o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11?[]:m.call(lt&&!y&&o.getElementsByClassName?I?o.getElementsByClassName(F):o.getElementsByTagName(p):o.querySelectorAll(p))},b.contains=_.documentElement.contains?function(o,p){return o!==p&&o.contains(p)}:function(o,p){for(;p&&(p=p.parentNode);)if(p===o)return!0;return!1},b.type=c,b.isFunction=f,b.isWindow=w,b.isArray=N,b.isPlainObject=R,b.isEmptyObject=function(o){for(var p in o)return!1;return!0},b.isNumeric=function(o){var p=Number(o),g=typeof o;return o!=null&&g!="boolean"&&(g!="string"||o.length)&&!isNaN(p)&&isFinite(p)||!1},b.inArray=function(o,p,g){return B.indexOf.call(p,o,g)},b.camelCase=O,b.trim=function(o){return o==null?"":String.prototype.trim.call(o)},b.uuid=0,b.support={},b.expr={},b.noop=function(){},b.map=function(o,p){var g=[],y;if(z(o))for(y=0;y<o.length;y++){var I=p(o[y],y);I!=null&&g.push(I)}else for(y in o)I=p(o[y],y),I!=null&&g.push(I);return 0<g.length?b.fn.concat.apply([],g):g},b.each=function(o,p){var g;if(z(o))for(g=0;g<o.length&&p.call(o[g],g,o[g])!==!1;g++);else for(g in o)if(p.call(o[g],g,o[g])===!1)break;return o},b.grep=function(o,p){return d.call(o,p)},u.JSON&&(b.parseJSON=JSON.parse),b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(o,p){s["[object "+p+"]"]=p.toLowerCase()}),b.fn={constructor:h.Z,length:0,forEach:B.forEach,reduce:B.reduce,push:B.push,sort:B.sort,splice:B.splice,indexOf:B.indexOf,concat:function(){var o,p=[];for(o=0;o<arguments.length;o++){var g=arguments[o];p[o]=h.isZ(g)?g.toArray():g}return ut.apply(h.isZ(this)?this.toArray():this,p)},map:function(o){return b(b.map(this,function(p,g){return o.call(p,g,p)}))},slice:function(){return b(m.apply(this,arguments))},ready:function(o){return e.test(_.readyState)&&_.body?o(b):_.addEventListener("DOMContentLoaded",function(){o(b)},!1),this},get:function(o){return o===P?m.call(this):this[0<=o?o:o+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(o){return B.every.call(this,function(p,g){return o.call(p,g,p)!==!1}),this},filter:function(o){return f(o)?this.not(this.not(o)):b(d.call(this,function(p){return h.matches(p,o)}))},add:function(o,p){return b(X(this.concat(b(o,p))))},is:function(o){return 0<this.length&&h.matches(this[0],o)},not:function(o){var p=[];if(f(o)&&o.call!==P)this.each(function(y){o.call(this,y)||p.push(this)});else{var g=typeof o=="string"?this.filter(o):z(o)&&f(o.item)?m.call(o):b(o);this.forEach(function(y){0>g.indexOf(y)&&p.push(y)})}return b(p)},has:function(o){return this.filter(function(){return A(o)?b.contains(this,o):b(this).find(o).size()})},eq:function(o){return o===-1?this.slice(o):this.slice(o,+o+1)},first:function(){var o=this[0];return o&&!A(o)?o:b(o)},last:function(){var o=this[this.length-1];return o&&!A(o)?o:b(o)},find:function(o){var p=this;return o?typeof o=="object"?b(o).filter(function(){var g=this;return B.some.call(p,function(y){return b.contains(y,g)})}):this.length==1?b(h.qsa(this[0],o)):this.map(function(){return h.qsa(this,o)}):b()},closest:function(o,p){var g=[],y=typeof o=="object"&&b(o);return this.each(function(I,F){for(;F&&!(y?0<=y.indexOf(F):h.matches(F,o));)F=F!==p&&!(F!=null&&F.nodeType==F.DOCUMENT_NODE)&&F.parentNode;F&&0>g.indexOf(F)&&g.push(F)}),b(g)},parents:function(o){for(var p=[],g=this;0<g.length;)g=b.map(g,function(y){if((y=y.parentNode)&&(y==null||y.nodeType!=y.DOCUMENT_NODE)&&0>p.indexOf(y))return p.push(y),y});return tt(p,o)},parent:function(o){return tt(X(this.pluck("parentNode")),o)},children:function(o){return tt(this.map(function(){return Q(this)}),o)},contents:function(){return this.map(function(){return this.contentDocument||m.call(this.childNodes)})},siblings:function(o){return tt(this.map(function(p,g){return d.call(Q(g.parentNode),function(y){return y!==g})}),o)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(o){return b.map(this,function(p){return p[o]})},show:function(){return this.each(function(){if(this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"){var o=this.style,p=this.nodeName;if(!k[p]){var g=_.createElement(p);_.body.appendChild(g);var y=getComputedStyle(g,"").getPropertyValue("display");g.parentNode.removeChild(g),y=="none"&&(y="block"),k[p]=y}o.display=k[p]}})},replaceWith:function(o){return this.before(o).remove()},wrap:function(o){var p=f(o);if(this[0]&&!p)var g=b(o).get(0),y=g.parentNode||1<this.length;return this.each(function(I){b(this).wrapAll(p?o.call(this,I):y?g.cloneNode(!0):g)})},wrapAll:function(o){if(this[0]){b(this[0]).before(o=b(o));for(var p;(p=o.children()).length;)o=p.first();b(o).append(this)}return this},wrapInner:function(o){var p=f(o);return this.each(function(g){var y=b(this),I=y.contents();g=p?o.call(this,g):o,I.length?I.wrapAll(g):y.append(g)})},unwrap:function(){return this.parent().each(function(){b(this).replaceWith(b(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(o){return this.each(function(){var p=b(this);(o===P?p.css("display")=="none":o)?p.show():p.hide()})},prev:function(o){return b(this.pluck("previousElementSibling")).filter(o||"*")},next:function(o){return b(this.pluck("nextElementSibling")).filter(o||"*")},html:function(o){return 0 in arguments?this.each(function(p){var g=this.innerHTML;b(this).empty().append(J(this,o,p,g))}):0 in this?this[0].innerHTML:null},text:function(o){return 0 in arguments?this.each(function(p){p=J(this,o,p,this.textContent),this.textContent=p==null?"":""+p}):0 in this?this.pluck("textContent").join(""):null},attr:function(o,p){var g;return typeof o!="string"||1 in arguments?this.each(function(y){if(this.nodeType===1)if(A(o))for(M in o){var I=M;y=o[M],y==null?this.removeAttribute(I):this.setAttribute(I,y)}else I=o,y=J(this,p,y,this.getAttribute(o)),y==null?this.removeAttribute(I):this.setAttribute(I,y)}):0 in this&&this[0].nodeType==1&&(g=this[0].getAttribute(o))!=null?g:P},removeAttr:function(o){return this.each(function(){this.nodeType===1&&o.split(" ").forEach(function(p){this.removeAttribute(p)},this)})},prop:function(o,p){return o=E[o]||o,1 in arguments?this.each(function(g){this[o]=J(this,p,g,this[o])}):this[0]&&this[0][o]},removeProp:function(o){return o=E[o]||o,this.each(function(){delete this[o]})},data:function(o,p){var g="data-"+o.replace(U,"-$1").toLowerCase();return g=1 in arguments?this.attr(g,p):this.attr(g),g!==null?a(g):P},val:function(o){return 0 in arguments?(o==null&&(o=""),this.each(function(p){this.value=J(this,o,p,this.value)})):this[0]&&(this[0].multiple?b(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(o){if(o)return this.each(function(g){var y=b(this);g=J(this,o,g,y.offset());var I=y.offsetParent().offset();g={top:g.top-I.top,left:g.left-I.left},y.css("position")=="static"&&(g.position="relative"),y.css(g)});if(!this.length)return null;if(_.documentElement!==this[0]&&!b.contains(_.documentElement,this[0]))return{top:0,left:0};var p=this[0].getBoundingClientRect();return{left:p.left+u.pageXOffset,top:p.top+u.pageYOffset,width:Math.round(p.width),height:Math.round(p.height)}},css:function(o,p){if(2>arguments.length){var g=this[0];if(typeof o=="string")return g?g.style[O(o)]||getComputedStyle(g,"").getPropertyValue(o):void 0;if(N(o)){if(!g)return;var y={},I=getComputedStyle(g,"");return b.each(o,function(lt,at){y[at]=g.style[O(at)]||I.getPropertyValue(at)}),y}}var F="";if(c(o)=="string")p||p===0?F=H(o)+":"+rt(o,p):this.each(function(){this.style.removeProperty(H(o))});else for(M in o)o[M]||o[M]===0?F+=H(M)+":"+rt(M,o[M])+";":this.each(function(){this.style.removeProperty(H(M))});return this.each(function(){this.style.cssText+=";"+F})},index:function(o){return o?this.indexOf(b(o)[0]):this.parent().children().indexOf(this[0])},hasClass:function(o){return o?B.some.call(this,function(p){return this.test(K(p))},q(o)):!1},addClass:function(o){return o?this.each(function(p){if("className"in this){nt=[];var g=K(this);J(this,o,p,g).split(/\s+/g).forEach(function(y){b(this).hasClass(y)||nt.push(y)},this),nt.length&&K(this,g+(g?" ":"")+nt.join(" "))}}):this},removeClass:function(o){return this.each(function(p){if("className"in this){if(o===P)return K(this,"");nt=K(this),J(this,o,p,nt).split(/\s+/g).forEach(function(g){nt=nt.replace(q(g)," ")}),K(this,nt.trim())}})},toggleClass:function(o,p){return o?this.each(function(g){var y=b(this);J(this,o,g,K(this)).split(/\s+/g).forEach(function(I){(p===P?!y.hasClass(I):p)?y.addClass(I):y.removeClass(I)})}):this},scrollTop:function(o){if(this.length){var p="scrollTop"in this[0];return o===P?p?this[0].scrollTop:this[0].pageYOffset:this.each(p?function(){this.scrollTop=o}:function(){this.scrollTo(this.scrollX,o)})}},scrollLeft:function(o){if(this.length){var p="scrollLeft"in this[0];return o===P?p?this[0].scrollLeft:this[0].pageXOffset:this.each(p?function(){this.scrollLeft=o}:function(){this.scrollTo(o,this.scrollY)})}},position:function(){if(this.length){var o=this[0],p=this.offsetParent(),g=this.offset(),y=Z.test(p[0].nodeName)?{top:0,left:0}:p.offset();return g.top-=parseFloat(b(o).css("margin-top"))||0,g.left-=parseFloat(b(o).css("margin-left"))||0,y.top+=parseFloat(b(p[0]).css("border-top-width"))||0,y.left+=parseFloat(b(p[0]).css("border-left-width"))||0,{top:g.top-y.top,left:g.left-y.left}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent||_.body;o&&!Z.test(o.nodeName)&&b(o).css("position")=="static";)o=o.offsetParent;return o})}},b.fn.detach=b.fn.remove,["width","height"].forEach(function(o){var p=o.replace(/./,function(g){return g[0].toUpperCase()});b.fn[o]=function(g){var y,I=this[0];return g===P?w(I)?I["inner"+p]:I!=null&&I.nodeType==I.DOCUMENT_NODE?I.documentElement["scroll"+p]:(y=this.offset())&&y[o]:this.each(function(F){I=b(this),I.css(o,J(this,g,F,I[o]()))})}}),["after","prepend","before","append"].forEach(function(o,p){var g=p%2;b.fn[o]=function(){var y,I=b.map(arguments,function(at){var st=[];return y=c(at),y=="array"?(at.forEach(function(dt){if(dt.nodeType!==P)return st.push(dt);if(b.zepto.isZ(dt))return st=st.concat(dt.get());st=st.concat(h.fragment(dt))}),st):y=="object"||at==null?at:h.fragment(at)}),F,lt=1<this.length;return 1>I.length?this:this.each(function(at,st){F=g?st:st.parentNode,st=p==0?st.nextSibling:p==1?st.firstChild:p==2?st:null;var dt=b.contains(_.documentElement,F);I.forEach(function(mt){if(lt)mt=mt.cloneNode(!0);else if(!F)return b(mt).remove();F.insertBefore(mt,st),dt&&et(mt,function(pt){if(!(pt.nodeName==null||pt.nodeName.toUpperCase()!=="SCRIPT"||pt.type&&pt.type!=="text/javascript"||pt.src)){var _t=pt.ownerDocument?pt.ownerDocument.defaultView:u;_t.eval.call(_t,pt.innerHTML)}})})})},b.fn[g?o+"To":"insert"+(p?"Before":"After")]=function(y){return b(y)[o](this),this}}),h.Z.prototype=it.prototype=b.fn,h.uniq=X,h.deserializeValue=a,b.zepto=h,b}(),function(c){function f(d){return d._zid||(d._zid=rt++)}function w(d,m,_,k){if(m=A(m),m.ns)var S=new RegExp("(?:^| )"+m.ns.replace(" "," .* ?")+"(?: |$)");return(J[f(d)]||[]).filter(function(D){return D&&(!m.e||D.e==m.e)&&(!m.ns||S.test(D.ns))&&(!_||f(D.fn)===f(_))&&(!k||D.sel==k)})}function A(d){return d=(""+d).split("."),{e:d[0],ns:d.slice(1).sort().join(" ")}}function R(d){return P[d]||a&&et[d]||d}function z(d,m,_,k,S,D,V){var T=f(d),W=J[T]||(J[T]=[]);m.split(/\s/).forEach(function(Z){if(Z=="ready")return c(document).ready(_);var U=A(Z);U.fn=_,U.sel=S,U.e in P&&(_=function(G){var n=G.relatedTarget;if(!n||n!==this&&!c.contains(this,n))return U.fn.apply(this,arguments)});var L=(U.del=D)||_;U.proxy=function(G){if(G=H(G),!G.isImmediatePropagationStopped()){G.data=k;var n=L.apply(d,G._args==Q?[G]:[G].concat(G._args));return n===!1&&(G.preventDefault(),G.stopPropagation()),n}},U.i=W.length,W.push(U),"addEventListener"in d&&d.addEventListener(R(U.e),U.proxy,U.del&&!a&&U.e in et||!!V)})}function $(d,m,_,k,S){var D=f(d);(m||"").split(/\s/).forEach(function(V){w(d,V,_,k).forEach(function(T){delete J[D][T.i],"removeEventListener"in d&&d.removeEventListener(R(T.e),T.proxy,T.del&&!a&&T.e in et||!!S)})})}function H(d,m){return(m||!d.isDefaultPrevented)&&(m||(m=d),c.each(ut,function(_,k){var S=m[_];d[_]=function(){return this[k]=M,S&&S.apply(m,arguments)},d[k]=nt}),d.timeStamp||(d.timeStamp=Date.now()),(m.defaultPrevented!==Q?m.defaultPrevented:"returnValue"in m?m.returnValue===!1:m.getPreventDefault&&m.getPreventDefault())&&(d.isDefaultPrevented=M)),d}function q(d){var m,_={originalEvent:d};for(m in d)B.test(m)||d[m]===Q||(_[m]=d[m]);return H(_,d)}var rt=1,Q,it=Array.prototype.slice,ot=c.isFunction,tt=function(d){return typeof d=="string"},J={},K={},a="onfocusin"in u,et={focus:"focusin",blur:"focusout"},P={mouseenter:"mouseover",mouseleave:"mouseout"};K.click=K.mousedown=K.mouseup=K.mousemove="MouseEvents",c.event={add:z,remove:$},c.proxy=function(d,m){var _=2 in arguments&&it.call(arguments,2);if(ot(d)){var k=function(){return d.apply(m,_?_.concat(it.call(arguments)):arguments)};return k._zid=f(d),k}if(tt(m))return _?(_.unshift(d[m],d),c.proxy.apply(null,_)):c.proxy(d[m],d);throw new TypeError("expected function")},c.fn.bind=function(d,m,_){return this.on(d,m,_)},c.fn.unbind=function(d,m){return this.off(d,m)},c.fn.one=function(d,m,_,k){return this.on(d,m,_,k,1)};var M=function(){return!0},nt=function(){return!1},B=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,ut={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};c.fn.delegate=function(d,m,_){return this.on(m,d,_)},c.fn.undelegate=function(d,m,_){return this.off(m,d,_)},c.fn.live=function(d,m){return c(document.body).delegate(this.selector,d,m),this},c.fn.die=function(d,m){return c(document.body).undelegate(this.selector,d,m),this},c.fn.on=function(d,m,_,k,S){var D,V,T=this;return d&&!tt(d)?(c.each(d,function(W,Z){T.on(W,m,_,Z,S)}),T):(tt(m)||ot(k)||k===!1||(k=_,_=m,m=Q),(k===Q||_===!1)&&(k=_,_=Q),k===!1&&(k=nt),T.each(function(W,Z){S&&(D=function(U){return $(Z,U.type,k),k.apply(this,arguments)}),m&&(V=function(U){var L=c(U.target).closest(m,Z).get(0);if(L&&L!==Z){var G=c.extend(q(U),{currentTarget:L,liveFired:Z});return(D||k).apply(L,[G].concat(it.call(arguments,1)))}}),z(Z,d,k,_,m,V||D)}))},c.fn.off=function(d,m,_){var k=this;return d&&!tt(d)?(c.each(d,function(S,D){k.off(S,m,D)}),k):(tt(m)||ot(_)||_===!1||(_=m,m=Q),_===!1&&(_=nt),k.each(function(){$(this,d,_,m)}))},c.fn.trigger=function(d,m){return d=tt(d)||c.isPlainObject(d)?c.Event(d):H(d),d._args=m,this.each(function(){d.type in et&&typeof this[d.type]=="function"?this[d.type]():"dispatchEvent"in this?this.dispatchEvent(d):c(this).triggerHandler(d,m)})},c.fn.triggerHandler=function(d,m){var _,k;return this.each(function(S,D){_=q(tt(d)?c.Event(d):d),_._args=m,_.target=D,c.each(w(D,d.type||d),function(V,T){if(k=T.proxy(_),_.isImmediatePropagationStopped())return!1})}),k},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(d){c.fn[d]=function(m){return 0 in arguments?this.bind(d,m):this.trigger(d)}}),c.Event=function(d,m){tt(d)||(m=d,d=m.type);var _=document.createEvent(K[d]||"Events"),k=!0;if(m)for(var S in m)S=="bubbles"?k=!!m[S]:_[S]=m[S];return _.initEvent(d,k,!0),H(_)}}(ht),function(c){function f(d,m,_,k){if(d.global)return d=m||J,_=c.Event(_),c(d).trigger(_,k),!_.isDefaultPrevented()}function w(d){d.global&&c.active++===0&&f(d,null,"ajaxStart")}function A(d,m){var _=m.context;if(m.beforeSend.call(_,d,m)===!1||f(m,_,"ajaxBeforeSend",[d,m])===!1)return!1;f(m,_,"ajaxSend",[d,m])}function R(d,m,_,k){var S=_.context;_.success.call(S,d,"success",m),k&&k.resolveWith(S,[d,"success",m]),f(_,S,"ajaxSuccess",[m,_,d]),$("success",m,_)}function z(d,m,_,k,S){var D=k.context;k.error.call(D,_,m,d),S&&S.rejectWith(D,[_,m,d]),f(k,D,"ajaxError",[_,k,d||m]),$(m,_,k)}function $(d,m,_){var k=_.context;_.complete.call(k,m,d),f(_,k,"ajaxComplete",[m,_]),_.global&&!--c.active&&f(_,null,"ajaxStop")}function H(){}function q(d){return d&&(d=d.split(";",2)[0]),d&&(d=="text/html"?"html":d=="application/json"?"json":P.test(d)?"script":M.test(d)&&"xml")||"text"}function rt(d,m){return m==""?d:(d+"&"+m).replace(/[&?]{1,2}/,"?")}function Q(d){d.processData&&d.data&&c.type(d.data)!="string"&&(d.data=c.param(d.data,d.traditional)),!d.data||d.type&&d.type.toUpperCase()!="GET"&&d.dataType!="jsonp"||(d.url=rt(d.url,d.data),d.data=void 0)}function it(d,m,_,k){return c.isFunction(m)&&(k=_,_=m,m=void 0),c.isFunction(_)||(k=_,_=void 0),{url:d,data:m,success:_,dataType:k}}function ot(d,m,_,k){var S,D=c.isArray(m),V=c.isPlainObject(m);c.each(m,function(T,W){S=c.type(W),k&&(T=_?k:k+"["+(V||S=="object"||S=="array"?T:"")+"]"),!k&&D?d.add(W.name,W.value):S=="array"||!_&&S=="object"?ot(d,W,_,T):d.add(T,W)})}var tt=+new Date,J=u.document,K,a,et=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,P=/^(?:text|application)\/javascript/i,M=/^(?:text|application)\/xml/i,nt=/^\s*$/,B=J.createElement("a");B.href=u.location.href,c.active=0,c.ajaxJSONP=function(d,m){if(!("type"in d))return c.ajax(d);var _=d.jsonpCallback,k=(c.isFunction(_)?_():_)||"Zepto"+tt++,S=J.createElement("script"),D=u[k],V,T=function(U){c(S).triggerHandler("error",U||"abort")},W={abort:T},Z;return m&&m.promise(W),c(S).on("load error",function(U,L){clearTimeout(Z),c(S).off().remove(),U.type!="error"&&V?R(V[0],W,d,m):z(null,L||"error",W,d,m),u[k]=D,V&&c.isFunction(D)&&D(V[0]),D=V=void 0}),A(W,d)===!1?(T("abort"),W):(u[k]=function(){V=arguments},S.src=d.url.replace(/\?(.+)=\?/,"?$1="+k),J.head.appendChild(S),0<d.timeout&&(Z=setTimeout(function(){T("timeout")},d.timeout)),W)},c.ajaxSettings={type:"GET",beforeSend:H,success:H,error:H,complete:H,context:null,global:!0,xhr:function(){return new u.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:H},c.ajax=function(d){var m=c.extend({},d||{}),_=c.Deferred&&c.Deferred();for(K in c.ajaxSettings)m[K]===void 0&&(m[K]=c.ajaxSettings[K]);if(w(m),!m.crossDomain){var k=J.createElement("a");k.href=m.url,k.href=k.href,m.crossDomain=B.protocol+"//"+B.host!=k.protocol+"//"+k.host}m.url||(m.url=u.location.toString()),-1<(k=m.url.indexOf("#"))&&(m.url=m.url.slice(0,k)),Q(m);var S=m.dataType;if((k=/\?.+=\?/.test(m.url))&&(S="jsonp"),m.cache!==!1&&(d&&d.cache===!0||S!="script"&&S!="jsonp")||(m.url=rt(m.url,"_="+Date.now())),S=="jsonp")return k||(m.url=rt(m.url,m.jsonp?m.jsonp+"=?":m.jsonp===!1?"":"callback=?")),c.ajaxJSONP(m,_);d=m.accepts[S];var D={};k=function(U,L){D[U.toLowerCase()]=[U,L]};var V=/^([\w-]+:)\/\//.test(m.url)?RegExp.$1:u.location.protocol,T=m.xhr(),W=T.setRequestHeader,Z;if(_&&_.promise(T),m.crossDomain||k("X-Requested-With","XMLHttpRequest"),k("Accept",d||"*/*"),(d=m.mimeType||d)&&(-1<d.indexOf(",")&&(d=d.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(d)),(m.contentType||m.contentType!==!1&&m.data&&m.type.toUpperCase()!="GET")&&k("Content-Type",m.contentType||"application/x-www-form-urlencoded"),m.headers)for(a in m.headers)k(a,m.headers[a]);if(T.setRequestHeader=k,T.onreadystatechange=function(){if(T.readyState==4){T.onreadystatechange=H,clearTimeout(Z);var U=!1;if(200<=T.status&&300>T.status||T.status==304||T.status==0&&V=="file:"){if(S=S||q(m.mimeType||T.getResponseHeader("content-type")),T.responseType=="arraybuffer"||T.responseType=="blob")var L=T.response;else{L=T.responseText;try{L=m.dataFilter==H?L:m.dataFilter.call(m.context,L,S),S=="script"?(0,eval)(L):S=="xml"?L=T.responseXML:S=="json"&&(L=nt.test(L)?null:c.parseJSON(L))}catch(G){U=G}if(U)return z(U,"parsererror",T,m,_)}R(L,T,m,_)}else z(T.statusText||null,T.status?"error":"abort",T,m,_)}},A(T,m)===!1)return T.abort(),z(null,"abort",T,m,_),T;if(T.open(m.type,m.url,"async"in m?m.async:!0,m.username,m.password),m.xhrFields)for(a in m.xhrFields)T[a]=m.xhrFields[a];for(a in D)W.apply(T,D[a]);return 0<m.timeout&&(Z=setTimeout(function(){T.onreadystatechange=H,T.abort(),z(null,"timeout",T,m,_)},m.timeout)),T.send(m.data?m.data:null),T},c.get=function(){return c.ajax(it.apply(null,arguments))},c.post=function(){var d=it.apply(null,arguments);return d.type="POST",c.ajax(d)},c.getJSON=function(){var d=it.apply(null,arguments);return d.dataType="json",c.ajax(d)},c.fn.load=function(d,m,_){if(!this.length)return this;var k=this,S=d.split(/\s/);d=it(d,m,_);var D=d.success;if(1<S.length){d.url=S[0];var V=S[1]}return d.success=function(T){k.html(V?c("<div>").html(T.replace(et,"")).find(V):T),D&&D.apply(k,arguments)},c.ajax(d),this};var ut=encodeURIComponent;c.param=function(d,m){var _=[];return _.add=function(k,S){c.isFunction(S)&&(S=S()),S==null&&(S=""),this.push(ut(k)+"="+ut(S))},ot(_,d,m),_.join("&").replace(/%20/g,"+")}}(ht),function(c){c.fn.serializeArray=function(){var f,w,A=[],R=function(z){if(z.forEach)return z.forEach(R);A.push({name:f,value:z})};return this[0]&&c.each(this[0].elements,function(z,$){w=$.type,(f=$.name)&&$.nodeName.toLowerCase()!="fieldset"&&!$.disabled&&w!="submit"&&w!="reset"&&w!="button"&&w!="file"&&(w!="radio"&&w!="checkbox"||$.checked)&&R(c($).val())}),A},c.fn.serialize=function(){var f=[];return this.serializeArray().forEach(function(w){f.push(encodeURIComponent(w.name)+"="+encodeURIComponent(w.value))}),f.join("&")},c.fn.submit=function(f){if(0 in arguments)this.bind("submit",f);else if(this.length){var w=c.Event("submit");this.eq(0).trigger(w),w.isDefaultPrevented()||this.get(0).submit()}return this}}(ht),function(){try{getComputedStyle(void 0)}catch(f){var c=getComputedStyle;u.getComputedStyle=function(w,A){try{return c(w,A)}catch(R){return null}}}}(),ht}),function(){function u(t){return function(e,r,s,l){r=et(r,l,4);var h=!m(e)&&a.keys(e),x=(h||e).length,E=0<t?0:x-1;3>arguments.length&&(s=e[h?h[E]:E],E+=t);for(var N=r,O=s;0<=E&&E<x;E+=t){var X=h?h[E]:E;O=N(O,e[X],X,e)}return O}}function c(t){return function(e,r,s){r=P(r,s),s=d(e);for(var l=0<t?0:s-1;0<=l&&l<s;l+=t)if(r(e[l],l,e))return l;return-1}}function f(t,e,r){return function(s,l,h){var x=0,E=d(s);if(typeof h=="number")0<t?x=0<=h?h:Math.max(h+E,x):E=0<=h?Math.min(h+1,E):h+E+1;else if(r&&h&&E)return h=r(s,l),s[h]===l?h:-1;if(l!==l)return h=e(q.call(s,x,E),a.isNaN),0<=h?h+x:-1;for(h=0<t?x:E-1;0<=h&&h<E;h+=t)if(s[h]===l)return h;return-1}}function w(t,e){var r=V.length,s=t.constructor;s=a.isFunction(s)&&s.prototype||$;var l="constructor";for(a.has(t,l)&&!a.contains(e,l)&&e.push(l);r--;)l=V[r],l in t&&t[l]!==s[l]&&!a.contains(e,l)&&e.push(l)}var A=this,R=A._,z=Array.prototype,$=Object.prototype,H=z.push,q=z.slice,rt=$.toString,Q=$.hasOwnProperty,it=Array.isArray,ot=Object.keys,tt=Function.prototype.bind,J=Object.create,K=function(){},a=function(t){if(t instanceof a)return t;if(!(this instanceof a))return new a(t);this._wrapped=t};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=a),exports._=a):A._=a,a.VERSION="1.8.3";var et=function(t,e,r){if(e===void 0)return t;switch(r==null?3:r){case 1:return function(s){return t.call(e,s)};case 2:return function(s,l){return t.call(e,s,l)};case 3:return function(s,l,h){return t.call(e,s,l,h)};case 4:return function(s,l,h,x){return t.call(e,s,l,h,x)}}return function(){return t.apply(e,arguments)}},P=function(t,e,r){return t==null?a.identity:a.isFunction(t)?et(t,e,r):a.isObject(t)?a.matcher(t):a.property(t)};a.iteratee=function(t,e){return P(t,e,1/0)};var M=function(t,e){return function(r){var s=arguments.length;if(2>s||r==null)return r;for(var l=1;l<s;l++)for(var h=arguments[l],x=t(h),E=x.length,N=0;N<E;N++){var O=x[N];e&&r[O]!==void 0||(r[O]=h[O])}return r}},nt=function(t){return a.isObject(t)?J?J(t):(K.prototype=t,t=new K,K.prototype=null,t):{}},B=function(t){return function(e){return e==null?void 0:e[t]}},ut=Math.pow(2,53)-1,d=B("length"),m=function(t){return t=d(t),typeof t=="number"&&0<=t&&t<=ut};a.each=a.forEach=function(t,e,r){e=et(e,r);var s;if(m(t))for(r=0,s=t.length;r<s;r++)e(t[r],r,t);else{var l=a.keys(t);for(r=0,s=l.length;r<s;r++)e(t[l[r]],l[r],t)}return t},a.map=a.collect=function(t,e,r){e=P(e,r),r=!m(t)&&a.keys(t);for(var s=(r||t).length,l=Array(s),h=0;h<s;h++){var x=r?r[h]:h;l[h]=e(t[x],x,t)}return l},a.reduce=a.foldl=a.inject=u(1),a.reduceRight=a.foldr=u(-1),a.find=a.detect=function(t,e,r){if(e=m(t)?a.findIndex(t,e,r):a.findKey(t,e,r),e!==void 0&&e!==-1)return t[e]},a.filter=a.select=function(t,e,r){var s=[];return e=P(e,r),a.each(t,function(l,h,x){e(l,h,x)&&s.push(l)}),s},a.reject=function(t,e,r){return a.filter(t,a.negate(P(e)),r)},a.every=a.all=function(t,e,r){e=P(e,r),r=!m(t)&&a.keys(t);for(var s=(r||t).length,l=0;l<s;l++){var h=r?r[l]:l;if(!e(t[h],h,t))return!1}return!0},a.some=a.any=function(t,e,r){e=P(e,r),r=!m(t)&&a.keys(t);for(var s=(r||t).length,l=0;l<s;l++){var h=r?r[l]:l;if(e(t[h],h,t))return!0}return!1},a.contains=a.includes=a.include=function(t,e,r,s){return m(t)||(t=a.values(t)),(typeof r!="number"||s)&&(r=0),0<=a.indexOf(t,e,r)},a.invoke=function(t,e){var r=q.call(arguments,2),s=a.isFunction(e);return a.map(t,function(l){var h=s?e:l[e];return h==null?h:h.apply(l,r)})},a.pluck=function(t,e){return a.map(t,a.property(e))},a.where=function(t,e){return a.filter(t,a.matcher(e))},a.findWhere=function(t,e){return a.find(t,a.matcher(e))},a.max=function(t,e,r){var s=-1/0,l=-1/0,h;if(e==null&&t!=null){t=m(t)?t:a.values(t);for(var x=0,E=t.length;x<E;x++)r=t[x],r>s&&(s=r)}else e=P(e,r),a.each(t,function(N,O,X){h=e(N,O,X),(h>l||h===-1/0&&s===-1/0)&&(s=N,l=h)});return s},a.min=function(t,e,r){var s=1/0,l=1/0,h;if(e==null&&t!=null){t=m(t)?t:a.values(t);for(var x=0,E=t.length;x<E;x++)r=t[x],r<s&&(s=r)}else e=P(e,r),a.each(t,function(N,O,X){h=e(N,O,X),(h<l||h===1/0&&s===1/0)&&(s=N,l=h)});return s},a.shuffle=function(t){t=m(t)?t:a.values(t);for(var e=t.length,r=Array(e),s=0,l;s<e;s++)l=a.random(0,s),l!==s&&(r[s]=r[l]),r[l]=t[s];return r},a.sample=function(t,e,r){return e==null||r?(m(t)||(t=a.values(t)),t[a.random(t.length-1)]):a.shuffle(t).slice(0,Math.max(0,e))},a.sortBy=function(t,e,r){return e=P(e,r),a.pluck(a.map(t,function(s,l,h){return{value:s,index:l,criteria:e(s,l,h)}}).sort(function(s,l){var h=s.criteria,x=l.criteria;if(h!==x){if(h>x||h===void 0)return 1;if(h<x||x===void 0)return-1}return s.index-l.index}),"value")};var _=function(t){return function(e,r,s){var l={};return r=P(r,s),a.each(e,function(h,x){x=r(h,x,e),t(l,h,x)}),l}};a.groupBy=_(function(t,e,r){a.has(t,r)?t[r].push(e):t[r]=[e]}),a.indexBy=_(function(t,e,r){t[r]=e}),a.countBy=_(function(t,e,r){a.has(t,r)?t[r]++:t[r]=1}),a.toArray=function(t){return t?a.isArray(t)?q.call(t):m(t)?a.map(t,a.identity):a.values(t):[]},a.size=function(t){return t==null?0:m(t)?t.length:a.keys(t).length},a.partition=function(t,e,r){e=P(e,r);var s=[],l=[];return a.each(t,function(h,x,E){(e(h,x,E)?s:l).push(h)}),[s,l]},a.first=a.head=a.take=function(t,e,r){if(t!=null)return e==null||r?t[0]:a.initial(t,t.length-e)},a.initial=function(t,e,r){return q.call(t,0,Math.max(0,t.length-(e==null||r?1:e)))},a.last=function(t,e,r){if(t!=null)return e==null||r?t[t.length-1]:a.rest(t,Math.max(0,t.length-e))},a.rest=a.tail=a.drop=function(t,e,r){return q.call(t,e==null||r?1:e)},a.compact=function(t){return a.filter(t,a.identity)};var k=function(t,e,r,s){var l=[],h=0;s=s||0;for(var x=d(t);s<x;s++){var E=t[s];if(m(E)&&(a.isArray(E)||a.isArguments(E))){e||(E=k(E,e,r));var N=0,O=E.length;for(l.length+=O;N<O;)l[h++]=E[N++]}else r||(l[h++]=E)}return l};a.flatten=function(t,e){return k(t,e,!1)},a.without=function(t){return a.difference(t,q.call(arguments,1))},a.uniq=a.unique=function(t,e,r,s){a.isBoolean(e)||(s=r,r=e,e=!1),r!=null&&(r=P(r,s)),s=[];for(var l=[],h=0,x=d(t);h<x;h++){var E=t[h],N=r?r(E,h,t):E;e?(h&&l===N||s.push(E),l=N):r?a.contains(l,N)||(l.push(N),s.push(E)):a.contains(s,E)||s.push(E)}return s},a.union=function(){return a.uniq(k(arguments,!0,!0))},a.intersection=function(t){for(var e=[],r=arguments.length,s=0,l=d(t);s<l;s++){var h=t[s];if(!a.contains(e,h)){for(var x=1;x<r&&a.contains(arguments[x],h);x++);x===r&&e.push(h)}}return e},a.difference=function(t){var e=k(arguments,!0,!0,1);return a.filter(t,function(r){return!a.contains(e,r)})},a.zip=function(){return a.unzip(arguments)},a.unzip=function(t){for(var e=t&&a.max(t,d).length||0,r=Array(e),s=0;s<e;s++)r[s]=a.pluck(t,s);return r},a.object=function(t,e){for(var r={},s=0,l=d(t);s<l;s++)e?r[t[s]]=e[s]:r[t[s][0]]=t[s][1];return r},a.findIndex=c(1),a.findLastIndex=c(-1),a.sortedIndex=function(t,e,r,s){r=P(r,s,1),e=r(e),s=0;for(var l=d(t);s<l;){var h=Math.floor((s+l)/2);r(t[h])<e?s=h+1:l=h}return s},a.indexOf=f(1,a.findIndex,a.sortedIndex),a.lastIndexOf=f(-1,a.findLastIndex),a.range=function(t,e,r){e==null&&(e=t||0,t=0),r=r||1,e=Math.max(Math.ceil((e-t)/r),0);for(var s=Array(e),l=0;l<e;l++,t+=r)s[l]=t;return s};var S=function(t,e,r,s,l){return s instanceof e?(e=nt(t.prototype),t=t.apply(e,l),a.isObject(t)?t:e):t.apply(r,l)};a.bind=function(t,e){if(tt&&t.bind===tt)return tt.apply(t,q.call(arguments,1));if(!a.isFunction(t))throw new TypeError("Bind must be called on a function");var r=q.call(arguments,2),s=function(){return S(t,s,e,this,r.concat(q.call(arguments)))};return s},a.partial=function(t){var e=q.call(arguments,1),r=function(){for(var s=0,l=e.length,h=Array(l),x=0;x<l;x++)h[x]=e[x]===a?arguments[s++]:e[x];for(;s<arguments.length;)h.push(arguments[s++]);return S(t,r,this,this,h)};return r},a.bindAll=function(t){var e,r=arguments.length;if(1>=r)throw Error("bindAll must be passed function names");for(e=1;e<r;e++){var s=arguments[e];t[s]=a.bind(t[s],t)}return t},a.memoize=function(t,e){var r=function(s){var l=r.cache,h=""+(e?e.apply(this,arguments):s);return a.has(l,h)||(l[h]=t.apply(this,arguments)),l[h]};return r.cache={},r},a.delay=function(t,e){var r=q.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},a.defer=a.partial(a.delay,a,1),a.throttle=function(t,e,r){var s,l,h,x=null,E=0;r||(r={});var N=function(){E=r.leading===!1?0:a.now(),x=null,h=t.apply(s,l),x||(s=l=null)};return function(){var O=a.now();E||r.leading!==!1||(E=O);var X=e-(O-E);return s=this,l=arguments,0>=X||X>e?(x&&(clearTimeout(x),x=null),E=O,h=t.apply(s,l),x||(s=l=null)):x||r.trailing===!1||(x=setTimeout(N,X)),h}},a.debounce=function(t,e,r){var s,l,h,x,E,N=function(){var O=a.now()-x;O<e&&0<=O?s=setTimeout(N,e-O):(s=null,r||(E=t.apply(h,l),s||(h=l=null)))};return function(){h=this,l=arguments,x=a.now();var O=r&&!s;return s||(s=setTimeout(N,e)),O&&(E=t.apply(h,l),h=l=null),E}},a.wrap=function(t,e){return a.partial(e,t)},a.negate=function(t){return function(){return!t.apply(this,arguments)}},a.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,s=t[e].apply(this,arguments);r--;)s=t[r].call(this,s);return s}},a.after=function(t,e){return function(){if(1>--t)return e.apply(this,arguments)}},a.before=function(t,e){var r;return function(){return 0<--t&&(r=e.apply(this,arguments)),1>=t&&(e=null),r}},a.once=a.partial(a.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),V="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");a.keys=function(t){if(!a.isObject(t))return[];if(ot)return ot(t);var e=[],r;for(r in t)a.has(t,r)&&e.push(r);return D&&w(t,e),e},a.allKeys=function(t){if(!a.isObject(t))return[];var e=[],r;for(r in t)e.push(r);return D&&w(t,e),e},a.values=function(t){for(var e=a.keys(t),r=e.length,s=Array(r),l=0;l<r;l++)s[l]=t[e[l]];return s},a.mapObject=function(t,e,r){e=P(e,r),r=a.keys(t);for(var s=r.length,l={},h,x=0;x<s;x++)h=r[x],l[h]=e(t[h],h,t);return l},a.pairs=function(t){for(var e=a.keys(t),r=e.length,s=Array(r),l=0;l<r;l++)s[l]=[e[l],t[e[l]]];return s},a.invert=function(t){for(var e={},r=a.keys(t),s=0,l=r.length;s<l;s++)e[t[r[s]]]=r[s];return e},a.functions=a.methods=function(t){var e=[],r;for(r in t)a.isFunction(t[r])&&e.push(r);return e.sort()},a.extend=M(a.allKeys),a.extendOwn=a.assign=M(a.keys),a.findKey=function(t,e,r){e=P(e,r),r=a.keys(t);for(var s,l=0,h=r.length;l<h;l++)if(s=r[l],e(t[s],s,t))return s},a.pick=function(t,e,r){var s={},l=t;if(l==null)return s;if(a.isFunction(e))var h=a.allKeys(l),x=et(e,r);else h=k(arguments,!1,!1,1),x=function(b,o,p){return o in p},l=Object(l);for(var E=0,N=h.length;E<N;E++){var O=h[E],X=l[O];x(X,O,l)&&(s[O]=X)}return s},a.omit=function(t,e,r){if(a.isFunction(e))e=a.negate(e);else{var s=a.map(k(arguments,!1,!1,1),String);e=function(l,h){return!a.contains(s,h)}}return a.pick(t,e,r)},a.defaults=M(a.allKeys,!0),a.create=function(t,e){return t=nt(t),e&&a.extendOwn(t,e),t},a.clone=function(t){return a.isObject(t)?a.isArray(t)?t.slice():a.extend({},t):t},a.tap=function(t,e){return e(t),t},a.isMatch=function(t,e){var r=a.keys(e),s=r.length;if(t==null)return!s;t=Object(t);for(var l=0;l<s;l++){var h=r[l];if(e[h]!==t[h]||!(h in t))return!1}return!0};var T=function(t,e,r,s){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return t===e;t instanceof a&&(t=t._wrapped),e instanceof a&&(e=e._wrapped);var l=rt.call(t);if(l!==rt.call(e))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}if(l=l==="[object Array]",!l){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,x=e.constructor;if(h!==x&&!(a.isFunction(h)&&h instanceof h&&a.isFunction(x)&&x instanceof x)&&"constructor"in t&&"constructor"in e)return!1}for(r=r||[],s=s||[],h=r.length;h--;)if(r[h]===t)return s[h]===e;if(r.push(t),s.push(e),l){if(h=t.length,h!==e.length)return!1;for(;h--;)if(!T(t[h],e[h],r,s))return!1}else{if(l=a.keys(t),h=l.length,a.keys(e).length!==h)return!1;for(;h--;)if(x=l[h],!a.has(e,x)||!T(t[x],e[x],r,s))return!1}return r.pop(),s.pop(),!0};a.isEqual=function(t,e){return T(t,e)},a.isEmpty=function(t){return t==null?!0:m(t)&&(a.isArray(t)||a.isString(t)||a.isArguments(t))?t.length===0:a.keys(t).length===0},a.isElement=function(t){return!(!t||t.nodeType!==1)},a.isArray=it||function(t){return rt.call(t)==="[object Array]"},a.isObject=function(t){var e=typeof t;return e==="function"||e==="object"&&!!t},a.each("Arguments Function String Number Date RegExp Error".split(" "),function(t){a["is"+t]=function(e){return rt.call(e)==="[object "+t+"]"}}),a.isArguments(arguments)||(a.isArguments=function(t){return a.has(t,"callee")}),typeof/./!="function"&&typeof Int8Array!="object"&&(a.isFunction=function(t){return typeof t=="function"||!1}),a.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},a.isNaN=function(t){return a.isNumber(t)&&t!==+t},a.isBoolean=function(t){return t===!0||t===!1||rt.call(t)==="[object Boolean]"},a.isNull=function(t){return t===null},a.isUndefined=function(t){return t===void 0},a.has=function(t,e){return t!=null&&Q.call(t,e)},a.noConflict=function(){return A._=R,this},a.identity=function(t){return t},a.constant=function(t){return function(){return t}},a.noop=function(){},a.property=B,a.propertyOf=function(t){return t==null?function(){}:function(e){return t[e]}},a.matcher=a.matches=function(t){return t=a.extendOwn({},t),function(e){return a.isMatch(e,t)}},a.times=function(t,e,r){var s=Array(Math.max(0,t));for(e=et(e,r,1),r=0;r<t;r++)s[r]=e(r);return s},a.random=function(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},a.now=Date.now||function(){return new Date().getTime()},it={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=a.invert(it),B=function(t){var e=function(h){return t[h]},r="(?:"+a.keys(t).join("|")+")",s=RegExp(r),l=RegExp(r,"g");return function(h){return h=h==null?"":""+h,s.test(h)?h.replace(l,e):h}},a.escape=B(it),a.unescape=B(M),a.result=function(t,e,r){return e=t==null?void 0:t[e],e===void 0&&(e=r),a.isFunction(e)?e.call(t):e};var W=0;a.uniqueId=function(t){var e=++W+"";return t?t+e:e},a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Z=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,G=function(t){return"\\"+U[t]};a.template=function(t,e,r){!e&&r&&(e=r),e=a.defaults({},e,a.templateSettings),r=RegExp([(e.escape||Z).source,(e.interpolate||Z).source,(e.evaluate||Z).source].join("|")+"|$","g");var s=0,l="__p+='";t.replace(r,function(x,E,N,O,X){return l+=t.slice(s,X).replace(L,G),s=X+x.length,E?l+="'+\n((__t=("+E+"))==null?'':_.escape(__t))+\n'":N?l+="'+\n((__t=("+N+"))==null?'':__t)+\n'":O&&(l+="';\n"+O+"\n__p+='"),x}),l+="';\n",e.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{var h=new Function(e.variable||"obj","_",l)}catch(x){throw x.source=l,x}return r=function(x){return h.call(this,x,a)},r.source="function("+(e.variable||"obj")+"){\n"+l+"}",r},a.chain=function(t){return t=a(t),t._chain=!0,t};var n=function(t,e){return t._chain?a(e).chain():e};a.mixin=function(t){a.each(a.functions(t),function(e){var r=a[e]=t[e];a.prototype[e]=function(){var s=[this._wrapped];return H.apply(s,arguments),n(this,r.apply(a,s))}})},a.mixin(a),a.each("pop push reverse shift sort splice unshift".split(" "),function(t){var e=z[t];a.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),t!=="shift"&&t!=="splice"||r.length!==0||delete r[0],n(this,r)}}),a.each(["concat","join","slice"],function(t){var e=z[t];a.prototype[t]=function(){return n(this,e.apply(this._wrapped,arguments))}}),a.prototype.value=function(){return this._wrapped},a.prototype.valueOf=a.prototype.toJSON=a.prototype.value,a.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return a})}.call(this),function(u){var c=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define=="function"&&define.amd)v.define(["underscore","jquery","exports"],function(A,R,z){c.Backbone=u(c,z,A,R)});else if(typeof exports!="undefined"){var f=require("underscore");try{var w=require("jquery")}catch(A){}u(c,exports,f,w)}else c.Backbone=u(c,{},c._,ht)}(function(u,c,f,w){var A=u.Backbone,R=Array.prototype.slice;c.VERSION="1.3.3",c.$=w,c.noConflict=function(){return u.Backbone=A,this},c.emulateHTTP=!1,c.emulateJSON=!1;var z=function(n,t,e){switch(n){case 1:return function(){return f[t](this[e])};case 2:return function(r){return f[t](this[e],r)};case 3:return function(r,s){return f[t](this[e],H(r,this),s)};case 4:return function(r,s,l){return f[t](this[e],H(r,this),s,l)};default:return function(){var r=R.call(arguments);return r.unshift(this[e]),f[t].apply(f,r)}}},$=function(n,t,e){f.each(t,function(r,s){f[s]&&(n.prototype[s]=z(r,s,e))})},H=function(n,t){return f.isFunction(n)?n:f.isObject(n)&&!t._isModel(n)?q(n):f.isString(n)?function(e){return e.get(n)}:n},q=function(n){var t=f.matches(n);return function(e){return t(e.attributes)}};w=c.Events={};var rt=/\s+/,Q=function(n,t,e,r,s){var l=0,h;if(e&&typeof e=="object")for(r!==void 0&&("context"in s)&&s.context===void 0&&(s.context=r),h=f.keys(e);l<h.length;l++)t=Q(n,t,h[l],e[h[l]],s);else if(e&&rt.test(e))for(h=e.split(rt);l<h.length;l++)t=n(t,h[l],r,s);else t=n(t,e,r,s);return t};w.on=function(n,t,e){return it(this,n,t,e)};var it=function(n,t,e,r,s){return n._events=Q(ot,n._events||{},t,e,{context:r,ctx:n,listening:s}),s&&((n._listeners||(n._listeners={}))[s.id]=s),n};w.listenTo=function(n,t,e){if(!n)return this;var r=n._listenId||(n._listenId=f.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),l=s[r];return l||(l=this._listenId||(this._listenId=f.uniqueId("l")),l=s[r]={obj:n,objId:r,id:l,listeningTo:s,count:0}),it(n,t,e,this,l),this};var ot=function(n,t,e,r){if(e){t=n[t]||(n[t]=[]);var s=r.context,l=r.ctx;(r=r.listening)&&r.count++,t.push({callback:e,context:s,ctx:s||l,listening:r})}return n};w.off=function(n,t,e){return this._events?(this._events=Q(tt,this._events,n,t,{context:e,listeners:this._listeners}),this):this},w.stopListening=function(n,t,e){var r=this._listeningTo;if(!r)return this;n=n?[n._listenId]:f.keys(r);for(var s=0;s<n.length;s++){var l=r[n[s]];if(!l)break;l.obj.off(t,e,this)}return this};var tt=function(n,t,e,r){if(n){var s=0,l=r.context;if(r=r.listeners,t||e||l){for(var h=t?[t]:f.keys(n);s<h.length;s++){t=h[s];var x=n[t];if(!x)break;for(var E=[],N=0;N<x.length;N++){var O=x[N];e&&e!==O.callback&&e!==O.callback._callback||l&&l!==O.context?E.push(O):(O=O.listening)&&--O.count===0&&(delete r[O.id],delete O.listeningTo[O.objId])}E.length?n[t]=E:delete n[t]}return n}for(n=f.keys(r);s<n.length;s++)O=r[n[s]],delete r[O.id],delete O.listeningTo[O.objId]}};w.once=function(n,t,e){var r=Q(J,{},n,t,f.bind(this.off,this));return typeof n=="string"&&e==null&&(t=void 0),this.on(r,t,e)},w.listenToOnce=function(n,t,e){return t=Q(J,{},t,e,f.bind(this.stopListening,this,n)),this.listenTo(n,t)};var J=function(n,t,e,r){if(e){var s=n[t]=f.once(function(){r(t,s),e.apply(this,arguments)});s._callback=e}return n};w.trigger=function(n){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),e=Array(t),r=0;r<t;r++)e[r]=arguments[r+1];return Q(K,this._events,n,void 0,e),this};var K=function(n,t,e,r){if(n){e=n[t];var s=n.all;e&&s&&(s=s.slice()),e&&a(e,r),s&&a(s,[t].concat(r))}return n},a=function(n,t){var e,r=-1,s=n.length,l=t[0],h=t[1],x=t[2];switch(t.length){case 0:for(;++r<s;)(e=n[r]).callback.call(e.ctx);break;case 1:for(;++r<s;)(e=n[r]).callback.call(e.ctx,l);break;case 2:for(;++r<s;)(e=n[r]).callback.call(e.ctx,l,h);break;case 3:for(;++r<s;)(e=n[r]).callback.call(e.ctx,l,h,x);break;default:for(;++r<s;)(e=n[r]).callback.apply(e.ctx,t)}};w.bind=w.on,w.unbind=w.off,f.extend(c,w);var et=c.Model=function(n,t){var e=n||{};t||(t={}),this.cid=f.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(e=this.parse(e,t)||{});var r=f.result(this,"defaults");e=f.defaults(f.extend({},r,e),r),this.set(e,t),this.changed={},this.initialize.apply(this,arguments)};f.extend(et.prototype,w,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(n){return f.clone(this.attributes)},sync:function(){return c.sync.apply(this,arguments)},get:function(n){return this.attributes[n]},escape:function(n){return f.escape(this.get(n))},has:function(n){return this.get(n)!=null},matches:function(n){return!!f.iteratee(n,this)(this.attributes)},set:function(n,t,e){if(n==null)return this;if(typeof n=="object"){var r=n;e=t}else(r={})[n]=t;if(e||(e={}),!this._validate(r,e))return!1;var s=e.unset;n=e.silent;var l=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=f.clone(this.attributes),this.changed={});var x=this.attributes,E=this.changed,N=this._previousAttributes,O;for(O in r)t=r[O],f.isEqual(x[O],t)||l.push(O),f.isEqual(N[O],t)?delete E[O]:E[O]=t,s?delete x[O]:x[O]=t;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!n)for(l.length&&(this._pending=e),t=0;t<l.length;t++)this.trigger("change:"+l[t],this,x[l[t]],e);if(h)return this;if(!n)for(;this._pending;)e=this._pending,this._pending=!1,this.trigger("change",this,e);return this._changing=this._pending=!1,this},unset:function(n,t){return this.set(n,void 0,f.extend({},t,{unset:!0}))},clear:function(n){var t={},e;for(e in this.attributes)t[e]=void 0;return this.set(t,f.extend({},n,{unset:!0}))},hasChanged:function(n){return n==null?!f.isEmpty(this.changed):f.has(this.changed,n)},changedAttributes:function(n){if(!n)return this.hasChanged()?f.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,e={},r;for(r in n){var s=n[r];f.isEqual(t[r],s)||(e[r]=s)}return f.size(e)?e:!1},previous:function(n){return n!=null&&this._previousAttributes?this._previousAttributes[n]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(n){n=f.extend({parse:!0},n);var t=this,e=n.success;return n.success=function(r){var s=n.parse?t.parse(r,n):r;if(!t.set(s,n))return!1;e&&e.call(n.context,t,r,n),t.trigger("sync",t,r,n)},G(this,n),this.sync("read",this,n)},save:function(n,t,e){if(n==null||typeof n=="object"){var r=n;e=t}else(r={})[n]=t;e=f.extend({validate:!0,parse:!0},e);var s=e.wait;if(r&&!s){if(!this.set(r,e))return!1}else if(!this._validate(r,e))return!1;var l=this,h=e.success,x=this.attributes;return e.success=function(E){l.attributes=x;var N=e.parse?l.parse(E,e):E;if(s&&(N=f.extend({},r,N)),N&&!l.set(N,e))return!1;h&&h.call(e.context,l,E,e),l.trigger("sync",l,E,e)},G(this,e),r&&s&&(this.attributes=f.extend({},x,r)),n=this.isNew()?"create":e.patch?"patch":"update",n!=="patch"||e.attrs||(e.attrs=r),n=this.sync(n,this,e),this.attributes=x,n},destroy:function(n){n=n?f.clone(n):{};var t=this,e=n.success,r=n.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,n)};n.success=function(h){r&&s(),e&&e.call(n.context,t,h,n),t.isNew()||t.trigger("sync",t,h,n)};var l=!1;return this.isNew()?f.defer(n.success):(G(this,n),l=this.sync("delete",this,n)),r||s(),l},url:function(){var n=f.result(this,"urlRoot")||f.result(this.collection,"url")||L();if(this.isNew())return n;var t=this.get(this.idAttribute);return n.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(n,t){return n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(n){return this._validate({},f.extend({},n,{validate:!0}))},_validate:function(n,t){return!t.validate||!this.validate||(n=f.extend({},this.attributes,n),n=this.validationError=this.validate(n,t)||null,!n)?!0:(this.trigger("invalid",this,n,f.extend(t,{validationError:n})),!1)}}),$(et,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var P=c.Collection=function(n,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),n&&this.reset(n,f.extend({silent:!0},t))},M={add:!0,remove:!0,merge:!0},nt={add:!0,remove:!1},B=function(n,t,e){e=Math.min(Math.max(e,0),n.length);var r=Array(n.length-e),s=t.length,l;for(l=0;l<r.length;l++)r[l]=n[l+e];for(l=0;l<s;l++)n[l+e]=t[l];for(l=0;l<r.length;l++)n[l+s+e]=r[l]};f.extend(P.prototype,w,{model:et,initialize:function(){},toJSON:function(n){return this.map(function(t){return t.toJSON(n)})},sync:function(){return c.sync.apply(this,arguments)},add:function(n,t){return this.set(n,f.extend({merge:!1},t,nt))},remove:function(n,t){t=f.extend({},t);var e=!f.isArray(n);return n=e?[n]:n.slice(),n=this._removeModels(n,t),!t.silent&&n.length&&(t.changes={added:[],merged:[],removed:n},this.trigger("update",this,t)),e?n[0]:n},set:function(n,t){if(n!=null){t=f.extend({},M,t),t.parse&&!this._isModel(n)&&(n=this.parse(n,t)||[]);var e=!f.isArray(n);n=e?[n]:n.slice();var r=t.at;r!=null&&(r=+r),r>this.length&&(r=this.length),0>r&&(r+=this.length+1);var s=[],l=[],h=[],x=[],E={},N=t.add,O=t.merge,X=t.remove,b=!1,o=this.comparator&&r==null&&t.sort!==!1,p=f.isString(this.comparator)?this.comparator:null,g;for(g=0;g<n.length;g++){var y=n[g],I=this.get(y);I?(O&&y!==I&&(y=this._isModel(y)?y.attributes:y,t.parse&&(y=I.parse(y,t)),I.set(y,t),h.push(I),o&&!b&&(b=I.hasChanged(p))),E[I.cid]||(E[I.cid]=!0,s.push(I)),n[g]=I):N&&(y=n[g]=this._prepareModel(y,t))&&(l.push(y),this._addReference(y,t),E[y.cid]=!0,s.push(y))}if(X){for(g=0;g<this.length;g++)y=this.models[g],E[y.cid]||x.push(y);x.length&&this._removeModels(x,t)}if(E=!1,s.length&&!o&&N&&X?(E=this.length!==s.length||f.some(this.models,function(F,lt){return F!==s[lt]}),this.models.length=0,B(this.models,s,0),this.length=this.models.length):l.length&&(o&&(b=!0),B(this.models,l,r==null?this.length:r),this.length=this.models.length),b&&this.sort({silent:!0}),!t.silent){for(g=0;g<l.length;g++)r!=null&&(t.index=r+g),y=l[g],y.trigger("add",y,this,t);(b||E)&&this.trigger("sort",this,t),(l.length||x.length||h.length)&&(t.changes={added:l,removed:x,merged:h},this.trigger("update",this,t))}return e?n[0]:n}},reset:function(n,t){t=t?f.clone(t):{};for(var e=0;e<this.models.length;e++)this._removeReference(this.models[e],t);return t.previousModels=this.models,this._reset(),n=this.add(n,f.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),n},push:function(n,t){return this.add(n,f.extend({at:this.length},t))},pop:function(n){var t=this.at(this.length-1);return this.remove(t,n)},unshift:function(n,t){return this.add(n,f.extend({at:0},t))},shift:function(n){var t=this.at(0);return this.remove(t,n)},slice:function(){return R.apply(this.models,arguments)},get:function(n){if(n!=null)return this._byId[n]||this._byId[this.modelId(n.attributes||n)]||n.cid&&this._byId[n.cid]},has:function(n){return this.get(n)!=null},at:function(n){return 0>n&&(n+=this.length),this.models[n]},where:function(n,t){return this[t?"find":"filter"](n)},findWhere:function(n){return this.where(n,!0)},sort:function(n){var t=this.comparator;if(!t)throw Error("Cannot sort a set without a comparator");n||(n={});var e=t.length;return f.isFunction(t)&&(t=f.bind(t,this)),e===1||f.isString(t)?this.models=this.sortBy(t):this.models.sort(t),n.silent||this.trigger("sort",this,n),this},pluck:function(n){return this.map(n+"")},fetch:function(n){n=f.extend({parse:!0},n);var t=n.success,e=this;return n.success=function(r){e[n.reset?"reset":"set"](r,n),t&&t.call(n.context,e,r,n),e.trigger("sync",e,r,n)},G(this,n),this.sync("read",this,n)},create:function(n,t){t=t?f.clone(t):{};var e=t.wait;if(n=this._prepareModel(n,t),!n)return!1;e||this.add(n,t);var r=this,s=t.success;return t.success=function(l,h,x){e&&r.add(l,x),s&&s.call(x.context,l,h,x)},n.save(null,t),n},parse:function(n,t){return n},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(n){return n[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(n,t){return this._isModel(n)?(n.collection||(n.collection=this),n):(t=t?f.clone(t):{},t.collection=this,n=new this.model(n,t),n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n)},_removeModels:function(n,t){for(var e=[],r=0;r<n.length;r++){var s=this.get(n[r]);if(s){var l=this.indexOf(s);this.models.splice(l,1),this.length--,delete this._byId[s.cid];var h=this.modelId(s.attributes);h!=null&&delete this._byId[h],t.silent||(t.index=l,s.trigger("remove",s,this,t)),e.push(s),this._removeReference(s,t)}}return e},_isModel:function(n){return n instanceof et},_addReference:function(n,t){this._byId[n.cid]=n,t=this.modelId(n.attributes),t!=null&&(this._byId[t]=n),n.on("all",this._onModelEvent,this)},_removeReference:function(n,t){delete this._byId[n.cid],t=this.modelId(n.attributes),t!=null&&delete this._byId[t],this===n.collection&&delete n.collection,n.off("all",this._onModelEvent,this)},_onModelEvent:function(n,t,e,r){if(t){if((n==="add"||n==="remove")&&e!==this)return;if(n==="destroy"&&this.remove(t,r),n==="change"){var s=this.modelId(t.previousAttributes()),l=this.modelId(t.attributes);s!==l&&(s!=null&&delete this._byId[s],l!=null&&(this._byId[l]=t))}}this.trigger.apply(this,arguments)}}),$(P,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"),$=c.View=function(n){this.cid=f.uniqueId("view"),f.extend(this,f.pick(n,d)),this._ensureElement(),this.initialize.apply(this,arguments)};var ut=/^(\S+)\s*(.*)$/,d="model collection el id attributes className tagName events".split(" ");f.extend($.prototype,w,{tagName:"div",$:function(n){return this.$el.find(n)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(n){return this.undelegateEvents(),this._setElement(n),this.delegateEvents(),this},_setElement:function(n){this.$el=n instanceof c.$?n:c.$(n),this.el=this.$el[0]},delegateEvents:function(n){if(n||(n=f.result(this,"events")),!n)return this;this.undelegateEvents();for(var t in n){var e=n[t];if(f.isFunction(e)||(e=this[e]),e){var r=t.match(ut);this.delegate(r[1],r[2],f.bind(e,this))}}return this},delegate:function(n,t,e){return this.$el.on(n+".delegateEvents"+this.cid,t,e),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(n,t,e){return this.$el.off(n+".delegateEvents"+this.cid,t,e),this},_createElement:function(n){return document.createElement(n)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var n=f.extend({},f.result(this,"attributes"));this.id&&(n.id=f.result(this,"id")),this.className&&(n.class=f.result(this,"className")),this.setElement(this._createElement(f.result(this,"tagName"))),this._setAttributes(n)}},_setAttributes:function(n){this.$el.attr(n)}}),c.sync=function(n,t,e){var r=m[n];f.defaults(e||(e={}),{emulateHTTP:c.emulateHTTP,emulateJSON:c.emulateJSON});var s={type:r,dataType:"json"};if(e.url||(s.url=f.result(t,"url")||L()),e.data!=null||!t||n!=="create"&&n!=="update"&&n!=="patch"||(s.contentType="application/json",s.data=JSON.stringify(e.attrs||t.toJSON(e))),e.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),e.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){s.type="POST",e.emulateJSON&&(s.data._method=r);var l=e.beforeSend;e.beforeSend=function(x){if(x.setRequestHeader("X-HTTP-Method-Override",r),l)return l.apply(this,arguments)}}s.type==="GET"||e.emulateJSON||(s.processData=!1);var h=e.error;return e.error=function(x,E,N){e.textStatus=E,e.errorThrown=N,h&&h.call(e.context,x,E,N)},n=e.xhr=c.ajax(f.extend(s,e)),t.trigger("request",t,n,e),n};var m={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};c.ajax=function(){return c.$.ajax.apply(c.$,arguments)};var _=c.Router=function(n){n||(n={}),n.routes&&(this.routes=n.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,D=/\*\w+/g,V=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(_.prototype,w,{initialize:function(){},route:function(n,t,e){f.isRegExp(n)||(n=this._routeToRegExp(n)),f.isFunction(t)&&(e=t,t=""),e||(e=this[t]);var r=this;return c.history.route(n,function(s){s=r._extractParameters(n,s),r.execute(e,s,t)!==!1&&(r.trigger.apply(r,["route:"+t].concat(s)),r.trigger("route",t,s),c.history.trigger("route",r,t,s))}),this},execute:function(n,t,e){n&&n.apply(this,t)},navigate:function(n,t){return c.history.navigate(n,t),this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var n,t=f.keys(this.routes);(n=t.pop())!=null;)this.route(n,this.routes[n])}},_routeToRegExp:function(n){return n=n.replace(V,"\\$&").replace(k,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+n+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(n,t){var e=n.exec(t).slice(1);return f.map(e,function(r,s){return s===e.length-1?r||null:r?decodeURIComponent(r):null})}});var T=c.History=function(){this.handlers=[],this.checkUrl=f.bind(this.checkUrl,this),typeof Y!="undefined"&&(this.location=Y.location,this.history=Y.history)},W=/^[#\/]|\s+$/g,Z=/^\/+|\/+$/g,U=/#.*$/;T.started=!1,f.extend(T.prototype,w,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(n){return decodeURI(n.replace(/%25/g,"%2525"))},getSearch:function(){var n=this.location.href.replace(/#.*/,"").match(/\?.+/);return n?n[0]:""},getHash:function(n){return(n=(n||this).location.href.match(/#(.*)$/))?n[1]:""},getPath:function(){var n=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return n.charAt(0)==="/"?n.slice(1):n},getFragment:function(n){return n==null&&(n=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),n.replace(W,"")},start:function(n){if(T.started)throw Error("Backbone.history has already been started");if(T.started=!0,this.options=f.extend({root:"/"},this.options,n),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in Y&&(document.documentMode===void 0||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Z,"/"),this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return n=this.root.slice(0,-1)||"/",this.location.replace(n+"#"+this.getPath()),!0;if(this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,n=document.body,n=n.insertBefore(this.iframe,n.firstChild).contentWindow,n.document.open(),n.document.close(),n.location.hash="#"+this.fragment),n=Y.addEventListener||function(t,e){return attachEvent("on"+t,e)},this._usePushState?n("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?n("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var n=Y.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?n("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&n("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),T.started=!1},route:function(n,t){this.handlers.unshift({route:n,callback:t})},checkUrl:function(n){if(n=this.getFragment(),n===this.fragment&&this.iframe&&(n=this.getHash(this.iframe.contentWindow)),n===this.fragment)return!1;this.iframe&&this.navigate(n),this.loadUrl()},loadUrl:function(n){return this.matchRoot()?(n=this.fragment=this.getFragment(n),f.some(this.handlers,function(t){if(t.route.test(n))return t.callback(n),!0})):!1},navigate:function(n,t){if(!T.started)return!1;t&&t!==!0||(t={trigger:!!t}),n=this.getFragment(n||"");var e=this.root;if((n===""||n.charAt(0)==="?")&&(e=e.slice(0,-1)||"/"),e+=n,n=this.decodeFragment(n.replace(U,"")),this.fragment!==n){if(this.fragment=n,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,n,t.replace),this.iframe&&n!==this.getHash(this.iframe.contentWindow)&&(e=this.iframe.contentWindow,t.replace||(e.document.open(),e.document.close()),this._updateHash(e.location,n,t.replace));else return this.location.assign(e);if(t.trigger)return this.loadUrl(n)}},_updateHash:function(n,t,e){e?(e=n.href.replace(/(javascript:|#).*$/,""),n.replace(e+"#"+t)):n.hash="#"+t}}),c.history=new T,et.extend=P.extend=_.extend=$.extend=T.extend=function(n,t){var e=this,r=n&&f.has(n,"constructor")?n.constructor:function(){return e.apply(this,arguments)};return f.extend(r,e,t),r.prototype=f.create(e.prototype,n),r.prototype.constructor=r,r.__super__=e.prototype,r};var L=function(){throw Error('A "url" property or function must be specified')},G=function(n,t){var e=t.error;t.error=function(r){e&&e.call(t.context,n,r,t),n.trigger("error",n,r,t)}};return c});var C=Y._.noConflict(),ft=Y.Backbone.noConflict(),j=ht,v={};v.core=v.core||{},v.core.LOGGING_ENABLED=!0,v.core.log=function(){if(v.core.LOGGING_ENABLED&&typeof console!="undefined"&&!C.isNull(console)&&typeof console.log=="function"){var u=["[Klaviyo / Onsite]"].concat([].slice.call(arguments));console.log.apply(console,u)}},v.core.parseQueryString=function(u){for(var c={},f=/\+/g,w=/([^&=]+)=?([^&]*)/g,A;A=w.exec(u);)c[decodeURIComponent(A[1].replace(f," "))]=decodeURIComponent(A[2].replace(f," "));return c},v.core.insertCSS=function(u){var c=document.createElement("style");j("head").get(0).appendChild(c),c.styleSheet?c.styleSheet.cssText=u:c.appendChild(document.createTextNode(u))},v.core.templates={_cache:{},register:function(u,c){this._cache[u]=C.template(c)},render:function(u,c){return this._cache[u](c||{})}},v.platforms=v.platforms||{},v.platforms.shopify=v.platforms.shopify||{},v.platforms.shopify.ADD_TO_CART_FORM_ID='form[action="/cart/add"]',v.platforms.shopify.ADD_TO_CART_BUTTON_ID=v.platforms.shopify.ADD_TO_CART_FORM_ID+' button[type="submit"]',v.platforms.shopify.isProductPage=function(u){return u||(u=Y.location.toString()),!!u.match(/\/products\//)},v.platforms.shopify.isCollectionsPage=function(u,c){if(u||(u=Y.location.toString()),Array.isArray(c)&&0<c.length){for(var f=0;f<c.length;f++)if(u.match(c[f]))return!0;return!!u.match(/\/collections\//)}},v.platforms.shopify.isVariantOutOfStock=function(u,c,f){return v.platforms.shopify.isVariantOutOfInventory(c,f)&&v.platforms.shopify.isVariantUnavailableBasedOnInventoryManagementPolicy(c,f)&&v.platforms.shopify.isVariantUnavailableBasedOnPreorderPolicy(c,f)&&v.platforms.shopify.isVariantUnavailableBasedOnSellThroughPolicy(c,f)&&v.platforms.shopify.isVariantIncludedBasedOnTags(u,f.include_on_tags,f.exclude_on_tags)},v.platforms.shopify.isVariantOutOfInventory=function(u,c){return C.isNull(u.inventory_quantity)||C.isUndefined(u.inventory_quantity)?!u.available:u.inventory_quantity<c.inventory_quantity_threshold},v.platforms.shopify.isVariantUnavailableBasedOnInventoryManagementPolicy=function(u,c){return c.is_allow_for_unmanaged_inventory?!0:!!u.inventory_management},v.platforms.shopify.isVariantUnavailableBasedOnPreorderPolicy=function(u,c){return c.is_allow_for_preorder?!0:!u.available},v.platforms.shopify.isVariantUnavailableBasedOnSellThroughPolicy=function(u,c){return!!(c.display_on_policy_continue||u.inventory_policy!="continue")},v.platforms.shopify.isVariantIncludedBasedOnTags=function(u,c,f){return!(f.length&&u.tags.length&&C.intersection(u.tags,f).length||c.length&&(!C.intersection(u.tags,c).length||!u.tags.length))},v.platforms.shopify.findSelectedVariantId=function(){var u=Y.location.search.substring(1);return(u=v.core.parseQueryString(u).variant)?u:j('[name="id"]').val()},v.platforms.shopify.isValidVariant=function(u){return typeof parseInt(u)=="number"},v.platforms.shopify.productDetailsUrl=function(u){return C.isUndefined(u.product_handle)?"//"+(Y.location.hostname.toString()+Y.location.pathname.toString().replace(/\/$/,""))+".js":"//"+Y.location.hostname.toString()+"/products/"+u.product_handle+".js"},v.platforms.shopify.format_product_json=function(u){return u},v.platforms.bigcommerce=v.platforms.bigcommerce||{},v.platforms.bigcommerce.ADD_TO_CART_FORM_ID='form[action$="//'+Y.location.hostname+'/cart.php"]',v.platforms.bigcommerce.ADD_TO_CART_BUTTON_ID=v.platforms.bigcommerce.ADD_TO_CART_FORM_ID+' input[type="submit"]',v.platforms.bigcommerce.INVENTORY_TRACKING_TYPES=["simple","product","variant","sku"],v.platforms.bigcommerce.OPTION_NAME_ELEMENT='input[name^="attribute"]',v.platforms.bigcommerce.DROPDOWN_NAME_ELEMENT='select[name^="attribute"] option',v.platforms.bigcommerce.PRODUCT_ID_ELEMENT='input[name="product_id"]',v.platforms.bigcommerce.isProductPage=function(u){try{return page_type=document.querySelector("meta[property='og:type']").getAttribute("content"),page_type=="product"}catch(c){return!1}},v.platforms.bigcommerce.isCollectionsPage=function(u,c){return!1},v.platforms.bigcommerce.isVariantOutOfStock=function(u,c,f){return v.platforms.bigcommerce.isVariantTrackableBasedOnInventoryManagementPolicy(u)&&v.platforms.bigcommerce.isVariantOutOfInventory(c,f)&&v.platforms.bigcommerce.isVariantAvailable(c,f)&&v.platforms.bigcommerce.isVariantIncludedBasedOnTags(u,f.include_on_tags,f.exclude_on_tags)},v.platforms.bigcommerce.isVariantOutOfInventory=function(u,c){return C.isNull(u.inventory_quantity)||C.isUndefined(u.inventory_quantity)?!u.available:u.inventory_quantity<c.inventory_quantity_threshold},v.platforms.bigcommerce.isVariantTrackableBasedOnInventoryManagementPolicy=function(u){return v.platforms.bigcommerce.INVENTORY_TRACKING_TYPES.includes(u.inventory_policy)},v.platforms.bigcommerce.isVariantAvailable=function(u,c){return u.available},v.platforms.bigcommerce.isVariantIncludedBasedOnTags=function(u,c,f){return!(f.length&&u.tags.length&&C.intersection(u.tags,f).length||c.length&&(!C.intersection(u.tags,c).length||!u.tags.length))},v.platforms.bigcommerce.findSelectedVariantId=function(){var u=[],c=C.map([v.platforms.bigcommerce.ADD_TO_CART_FORM_ID+" "+v.platforms.bigcommerce.OPTION_NAME_ELEMENT,v.platforms.bigcommerce.ADD_TO_CART_FORM_ID+" "+v.platforms.bigcommerce.DROPDOWN_NAME_ELEMENT],function(f){return f+":checked"}).join();if(c=j(c),v.platforms.bigcommerce.selected_variant_id=null,!C.isEmpty(c))return C.each(c,function(f,w){f=j(f),f.is("option")?u.push(f.parent().attr("name")+"="+f.val()):u.push(f.attr("name")+"="+f.val())}),product_id=v.platforms.bigcommerce.productId(),variant_option_url="//"+Y.location.hostname+"/remote/v1/product-attributes/"+product_id,parameters="action=add&qty[]=1&product_id="+product_id+"&"+u.join("&"),parameters=encodeURI(parameters),j.ajax({url:variant_option_url,type:"POST",headers:{"x-xsrf-token":Y.BCData&&Y.BCData.csrf_token?Y.BCData.csrf_token:""},dataType:"json",data:parameters,success:function(f){try{f.data.purchasable&&(v.platforms.bigcommerce.selected_variant_id=f.data.v3_variant_id)}catch(w){}}}),null},v.platforms.bigcommerce.isValidVariant=function(u){return!0},v.platforms.bigcommerce.productId=function(){return product_id_element=v.platforms.bigcommerce.ADD_TO_CART_FORM_ID+" "+v.platforms.bigcommerce.PRODUCT_ID_ELEMENT,j(product_id_element).val()},v.platforms.bigcommerce.productDetailsUrl=function(u){return product_id=v.platforms.bigcommerce.productId(),"https://fast.a.klaviyo.com/api/v1/catalog/bigcommerce/product-variants?a="+u.account_id+"&p="+product_id},v.platforms.bigcommerce.format_product_json=function(u){return data=u.data,product={id:data.product_id,title:data.product_title,inventory_policy:data.inventory_tracking,variants:[]},C.each(data.variants,function(c,f){variant_title=C.isEmpty(c.title)?c.sku:c.title,product.variants.push({id:c.external_id,title:variant_title,available:c.availability,inventory_quantity:c.inventory_quantity,is_allow_for_preorder:c.availability})}),product},v.components=v.components||{},v.components.back_in_stock=v.components.back_in_stock||{},v.components.back_in_stock.BASE_CSS='body, html { background: transparent;-webkit-font-smoothing: antialiased;height: 100%;}html {font-family: sans-serif;font-size: 14px;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}body {margin: 0;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size: 14px;line-height: 1.5;color: #222;overflow: hidden;-moz-transition: background-color 0.15s linear;-webkit-transition: background-color 0.15s linear;-o-transition: background-color 0.15s linear;transition: background-color 0.15s cubic-bezier(0.785, 0.135, 0.150, 0.860);}body.fadein {background: rgba(0, 0, 0, 0.65);}a {background-color: transparent;}a:active,a:hover {outline: 0;}h1 {font-size: 2em;margin: 0.67em 0;}h3 { font-size: 24px;}h4 {  font-size: 18px;  margin-top: 10px;  margin-bottom: 10px;}h3, h4 {  font-family: inherit;  font-weight: 500;  line-height: 1.1;  color: inherit;}button,input,optgroup,select,textarea {color: inherit;font: inherit;margin: 0;font-family: inherit;font-size: inherit;line-height: inherit;}button {overflow: visible;}button,select {text-transform: none;}button {-webkit-appearance: button;cursor: pointer;}button[disabled] {opacity: 0.6;}button::-moz-focus-inner,input::-moz-focus-inner {border: 0;padding: 0;}input {line-height: normal;}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button {height: auto;}* {-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}*:before,*:after {-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}#container {position: relative;background: white;padding: 12px 18px 40px 18px;}.fade {opacity: 0;-webkit-transition: opacity 0.15s linear;-o-transition: opacity 0.15s linear;transition: opacity 0.15s linear;}.fade.in {opacity: 1;}.modal {  overflow-x: hidden;  overflow-y: auto;  position: fixed;  top: 0;  right: 0;  bottom: 0;  left: 0;  z-index: 999;  -webkit-overflow-scrolling: touch;  outline: 0;}.modal-title {  margin: 0;  font-size: 24px;  line-height: 1.5;}.clearfix:before,.clearfix:after {  content: " ";  display: table;}.clearfix:after {  clear: both;}.form-control {  display: block;  width: 100%;  height: 34px;  padding: 6px 12px;  font-size: 14px;  line-height: 1.5;  color: #222;  background-color: #fff;  background-image: none;  border: 1px solid #ccc;  border-radius: 2px;  box-shadow: inset 0 1px 1px rgba(0,0,0,.075);  transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;}.input-lg {  font-size: 14px;  height: 46px;  padding: 10px 16px;  line-height: 1.3333333;}.submit-container {  margin-top: 20px;}.form-group {  margin-bottom: 15px;}.btn {  display: inline-block;  padding: 8px 12px;  margin-bottom: 0;  font-size: 14px;  font-weight: bold;  line-height: 1.5;  text-align: center;  white-space: nowrap;  vertical-align: middle;  -ms-touch-action: manipulation;  touch-action: manipulation;  cursor: pointer;  -webkit-user-select: none;  -moz-user-select: none;  -ms-user-select: none;  user-select: none;  background-image: none;  border: 1px solid transparent;  border-radius: 2px;}.btn-success {  width: 100%;  color: #fff;  background-color: #439fdb;  border-color: #439fdb;}.btn-lg {  line-height: 24px;  font-size: 15px;  padding: 14px;  line-height: 1.3333333;}.close {  -webkit-appearance: none;  padding: 0;  cursor: pointer;  background: 0 0;  border: 0;  position: absolute;  top: 7px;  right: 15px;  font-size: 30px;  font-weight: 700;  line-height: 1;  color: #ccc;  text-shadow: 0 1px 0 #fff;}.alert {  padding: 6px 11px;  font-size: 13px;  margin: 15px 0;  border: 1px solid transparent;  border-radius: 2px;}.alert-success {  color: #1B9500;  background-color: #d3efcd;  border-color: #d3efcd;}.alert-success a {   color: #1B9500;}.alert-danger {  color: #C72E2F;  background-color: #fcd6d7;  border-color: #fcd6d7;}.pull-right {  float: right;}.text-right {  text-align: right;}.small-print {  font-size: 14px;  line-height: 1.5;}.small-print a {  color: inherit;  text-decoration: underline;}.powered-by {  opacity: 0.8;}.product-title {  margin-bottom: 20px;}.accepts_marketing {  opacity: 0.835;  font-size: 13px;}.accepts_marketing input {  margin-right: 10px;}.completed_message, .error_message {  display: none;}.complete .completed_message {  display: block;}#klaviyo-bis-modal.in {  position: relative;  z-index: 999;  height: 100%;  overflow: hidden;  overflow-y: auto;  -webkit-overflow-scrolling: touch;}@media only screen and (min-width:500px) {  #klaviyo-bis-modal {    max-width: 460px;    margin: auto;  }  #container {    border-radius: 3px;    padding: 30px 40px;  }}@media only screen and (min-width:992px) {  #container {    margin-top: 100px;  }}',v.components=v.components||{},v.components.back_in_stock=v.components.back_in_stock||{},v.components.back_in_stock.DEFAULT_SETTINGS={trigger:{replace_sold_out:!1,replace_anchor:!1,alternate_anchor:null,product_page_text:"Notify Me When Available",product_page_class:"btn",product_page_text_align:"center",product_page_margin:"0px",product_page_width:"auto",collection_page_class:"btn",collection_page_text_align:"center",collection_page_width:"200px",collection_page_text:"Notify Me When Available",collection_page_padding:"inherit"},modal:{headline:"{product_name}",body_content:"Enter your email address and we'll let you know when it's back.",email_field_label:"Email",is_quantity_field_enabled:!1,quantity_field_label:"Quantity Required",button_label:"Notify me when available",newsletter_subscribe_label:"Add me to your email list.",subscription_success_label:"You're in! We'll let you know when it's back.",footer_content:"",close_label:"Close",is_powered_by_link:!1,styles:v.components.back_in_stock.BASE_CSS,additional_styles:"",z_index:999999,drop_background_color:"#000",background_color:"#fff",font_family:'"Helvetica Neue", Helvetica, Arial, sans-serif;',headers_font_family:'"Helvetica Neue", Helvetica, Arial, sans-serif;',text_color:"#222",button_text_color:"#fff",button_background_color:"#439fdb",close_button_color:"#ccc",error_background_color:"#fcd6d7",error_text_color:"#C72E2F",success_background_color:"#d3efcd",success_text_color:"#1B9500",subscribe_checked:!0}},v.components.back_in_stock.Settings=ft.Model.extend({defaults:{exclude_on_tags:"",include_on_tags:"",display_on_policy_continue:!1,inventory_quantity_threshold:1,is_allow_for_preorder:!0,is_allow_for_unmanaged_inventory:!0,variant_id_element:null,variant_id_attribute:null}}),v.components.back_in_stock.Main=ft.Model.extend(),v.components.back_in_stock.MainView=ft.View.extend({events:{change:"variantChange","click .klaviyo-bis-trigger":"handleBISTriggerClick"},settings:function(){return this.model.get("settings")},initialize:function(u){u=this.settings().get("platform");var c=this.settings().get("is_quick_view");if(this.platform_implementation=v.platforms[u],this.model.set("is_quick_view",c),this.model.set("collection_urls",this.settings().get("collection_urls")),this.platform_implementation.isProductPage())this.model.set("is_on_collections_page",!1),this.createProductPageTrigger();else if(this.platform_implementation.isCollectionsPage(null,this.model.get("collection_urls")))this.model.set("is_on_collections_page",!0),this.createCollectionPageTriggers();else{this.model.set("is_on_other_page",!0);return}this.model.set("is_on_other_page",!1)},getProductJSON:function(u,c){var f=this;j.getJSON(u,function(w,A,R){w=f.platform_implementation.format_product_json(w),A=w.variants;var z=[],$={},H={};f.model.set("product",w),C.each(A,function(q,rt){f.isVariantOutOfStock(q)&&z.push(q),$[q.id]=q,H[q.title]=q}),f.model.set({variants:A,unavailable_variants:z,variants_by_id:$,variants_by_title:H}),v.core.log("Variants: ",A.length,"Unavailable Variants: ",z.length),c()})},createProductPageTrigger:function(){var u=this,c=u.$(".klaviyo-bis-trigger"),f={account_id:u.settings().get("account")};f=u.platform_implementation.productDetailsUrl(f),u.getProductJSON(f,function(){if(u.model.get("unavailable_variants").length){if(u.prepareTriggerElement(c),!c.length){u.trigger.renderProductPageTrigger();var w=j(u.platform_implementation.ADD_TO_CART_BUTTON_ID).eq(0),A=u.trigger.model.get("alternate_anchor"),R="#"+A;!C.isNull(A)&&j(R).length?(w=j(R).eq(0),w.append(u.trigger.$el),u.sold_out_button=w):u.trigger.model.get("replace_anchor")!==!0&&u.trigger.model.get("replace_sold_out")!==!0||!w.length?u.$(u.platform_implementation.ADD_TO_CART_FORM_ID).eq(0).append(u.trigger.$el):(u.sold_out_button=w,u.sold_out_button.parent().append(u.trigger.$el))}u.createModal(),u.variantChange()}})},createCollectionPageTriggers:function(){var u=this,c=this.$(".klaviyo-bis-trigger"),f=this.$(".klaviyo-product-container");f.length&&(u.prepareTriggerElement(c),c.length||(u.trigger.prepareCollectionPageHelpers(),u.trigger.renderCollectionPageTrigger(),C.each(f,function(w){w=j(w).data("klaviyo-handle");var A=u.trigger.$el.clone(),R=j('.klaviyo-product-container[data-klaviyo-handle="'+w+'"] .klaviyo-button-container'),z=R.parent().parent();A.data("klaviyo-handle",w),R.append(A),z.css("position")=="static"&&z.css("position","relative")}),u.createModal()))},prepareTriggerElement:function(u){var c=this.settings(),f={};C.defaults(f,c.get("trigger"),v.components.back_in_stock.DEFAULT_SETTINGS.trigger),this.trigger=u.length?new v.components.back_in_stock.TriggerView({el:u,model:new v.components.back_in_stock.Trigger(f)}):new v.components.back_in_stock.TriggerView({el:j("<a/>"),model:new v.components.back_in_stock.Trigger(f)})},createModal:function(){var u=this.settings(),c={};parent_body_font_family=j("body").css("font-family"),parent_body_font_color=j("body").css("color"),parent_headers_font_family=j("h1,h2,h3").eq(0).css("font-family"),parent_button=j(".klaviyo-bis-trigger").eq(0),parent_button_text_color=parent_button.css("color"),parent_button_background_color=parent_button.css("background-color"),C.isUndefined(parent_body_font_family)||(v.components.back_in_stock.DEFAULT_SETTINGS.modal.font_family=parent_body_font_family),C.isUndefined(parent_body_font_color)||(v.components.back_in_stock.DEFAULT_SETTINGS.modal.text_color=parent_body_font_color),C.isUndefined(parent_headers_font_family)||(v.components.back_in_stock.DEFAULT_SETTINGS.modal.headers_font_family=parent_headers_font_family),C.isUndefined(parent_button_text_color)||(v.components.back_in_stock.DEFAULT_SETTINGS.modal.button_text_color=parent_button_text_color),C.isUndefined(parent_button_background_color)||(v.components.back_in_stock.DEFAULT_SETTINGS.modal.button_background_color=parent_button_background_color),C.defaults(c,u.get("modal"),v.components.back_in_stock.DEFAULT_SETTINGS.modal),C.extend(c,{account:u.get("account"),list:u.get("list"),platform:u.get("platform"),api_hostname:u.get("api_hostname"),is_quick_view:u.get("is_quick_view"),collection_urls:u.get("collection_urls")}),this.modal=new v.components.back_in_stock.ModalView({el:j("<iframe />"),model:new v.components.back_in_stock.Modal(c)}),this.modal.render(),this.$el.append(this.modal.$el)},variantChange:function(u){if(!this.model.get("is_on_other_page")&&!this.model.get("is_on_collections_page")&&this.trigger instanceof ft.View){if(u=this.model.get("variants").length==1?this.model.get("variants")[0].id:this.platform_implementation.findSelectedVariantId(),!this.platform_implementation.isValidVariant(u)){var c=this.settings(),f=c.get("variant_id_element");c=c.get("variant_id_attribute"),f&&c&&(u=j(document).find(f).attr(c))}if(C.isNull(u)){var w=this;for(i=0;3>i;i++)C.delay(function(){return w.setVariantAndShowUI(w.platform_implementation.selected_variant_id)},500)}else this.setVariantAndShowUI(u)}},setVariantAndShowUI:function(u){if(C.isUndefined(u)||C.isNull(u))this.trigger.hide(),C.isUndefined(this.sold_out_button)||this.sold_out_button.show();else{this.model.get("product");var c=this.model.get("variants_by_id")[u]||this.model.get("variants")[0];(!u||isNaN(u))&&(u=c&&c.id),v.core.log("Selected Variant: "+u),this.model.set("selected_variant_id",u),this.modal.setSelectedVariantId(u),c||this.trigger.hide(),this.isVariantOutOfStock(c)?(C.isUndefined(this.sold_out_button)||!this.trigger.model.get("replace_anchor")&&!this.trigger.model.get("replace_sold_out")||this.sold_out_button.hide(),this.trigger.show()):(this.trigger.hide(),C.isUndefined(this.sold_out_button)||this.sold_out_button.show())}},isVariantOutOfStock:function(u){var c=this.settings();return c={inventory_quantity_threshold:c.get("inventory_quantity_threshold"),is_allow_for_preorder:c.get("is_allow_for_preorder"),is_allow_for_unmanaged_inventory:c.get("is_allow_for_unmanaged_inventory"),display_on_policy_continue:c.get("display_on_policy_continue"),exclude_on_tags:this.cleanTags(c.get("exclude_on_tags")),include_on_tags:this.cleanTags(c.get("include_on_tags")),is_quick_view:c.get("is_quick_view"),collection_urls:c.get("collection_urls")},this.platform_implementation.isVariantOutOfStock(this.model.get("product"),u,c)},cleanTags:function(u){try{var c=u.split(",").filter(String)}catch(f){console.log("Tags not read because invalid format.  Please supply strings for included and excluded tags. If there are multiple values, please delimit with commas."),c=[]}return c.map(function(f){return f.trim()})},handleBISTriggerClick:function(u){u&&u.preventDefault()&&u.stopPropagation();var c=this;if(this.model.get("is_on_collections_page")){var f=j(u.currentTarget).data("klaviyo-handle"),w=j(j(u.currentTarget).data("klaviyo-quickview-variant")).val();u=c.platform_implementation.productDetailsUrl({product_handle:f});var A=this.model.get("is_quick_view");c.getProductJSON(u,function(){(!C.isUndefined(w)&&C.isUndefined(this.modal)||A)&&c.createModal(),c.showModal(w)})}else c.showModal()},showModal:function(u){var c=this.model.get("product");u=this.model.get("selected_variant_id")||u||this.model.get("unavailable_variants")[0].id,u=this.model.get("variants_by_id")[u];var f=this.model.get("variants").length,w=this.model.get("unavailable_variants");this.modal.renderForm(c,u,f,w),this.modal.show()}}),v.components.back_in_stock.create=function(u,c){return u=new v.components.back_in_stock.Settings(u),u.set(c),new v.components.back_in_stock.MainView({el:document.body,model:new v.components.back_in_stock.Main({settings:u})})},v.components=v.components||{},v.components.back_in_stock=v.components.back_in_stock||{},v.components.back_in_stock.Trigger=ft.Model.extend({}),v.components.back_in_stock.TriggerView=ft.View.extend({initialize:function(u){},prepareCollectionPageHelpers:function(){var u=j(".klaviyo-product-container"),c=j(".klaviyo-button-container"),f={display:"inline-block",position:"absolute !important",top:"50%",left:"50%",opacity:"0","text-align":this.model.get("collection_page_text_align"),width:this.model.get("collection_page_width")};klaviyo_button_width=f.width.match(/\d+/),f["margin-left"]="-"+Math.round(klaviyo_button_width/2)+"px",u.css({overflow:"visible !important",position:"initial !important"}),c.css(f),u.parent().mouseover(function(){j(this).find(c).css("opacity","1")}).mouseout(function(){j(this).find(c).css("opacity","0")})},renderCollectionPageTrigger:function(){var u=this.model;this.$el.attr("class",u.get("collection_page_class")).addClass("klaviyo-bis-trigger").attr("href","#").text(u.get("collection_page_text")).css("padding",u.get("collection_page_padding")).css("text-align",u.get("collection_page_text_align"))},renderProductPageTrigger:function(){var u=this.model;this.$el.attr("class",u.get("product_page_class")).addClass("klaviyo-bis-trigger").attr("href","#").text(u.get("product_page_text")).css("text-align",u.get("product_page_text_align")).css("margin",u.get("product_page_margin")).css("width",u.get("product_page_width"))},show:function(){this.$el.show()},hide:function(){this.$el.hide()}}),v.components=v.components||{},v.components.back_in_stock=v.components.back_in_stock||{},C.each({"back_in_stock_document.html":'<!doctype html><!--[if lt IE 7]> <html class="ie6"> <![endif]--><!--[if IE 7]> <html class="ie7"> <![endif]--><!--[if IE 8]> <html class="ie8"> <![endif]--><!--[if gt IE 8]><!--> <html> <!--<![endif]--><head><meta name="viewport" content="width=device-width"><style><%= styles %>#container {background: <%= theme.background_color %>;}body {font-family: <%= theme.font_family %>;color: <%= theme.text_color %>;}body.fadein {background: rgba( <%= theme.fade_color_rgb %>, 0.65);}h3 {font-family: <%= theme.headers_font_family %>;}.btn {color: <%= theme.button_text_color %>;background-color: <%= theme.button_background_color %>;border-color: <%= theme.button_background_color %>;}.close {color: <%= theme.close_button_color %>;}.alert-danger {border-color: <%= theme.failure_background_color %>;background-color: <%= theme.failure_background_color %>;color: <%= theme.failure_text_color %>;}.alert-success {background-color: <%= theme.success_background_color %>;border-color: <%= theme.success_background_color %>;color: <%= theme.success_text_color %>;}.alert-success a {color: <%= theme.success_text_color %>;}</style><% if (additional_styles) { %><style><%= additional_styles %></style><% } %></head><body class="klaviyo-bis-close"><div id="klaviyo-bis-modal"><div class="" id="container"><button type="button" class="close klaviyo-bis-close" data-dismiss="modal">&times;</button><h3 class="modal-title"><%= headline %></h3><p><%= body_content %></p><form action="#" class="form-horizontal clearfix"><div class="form-group"><div id="variant_select" class="col-sm-12"><input type="hidden" id="product" value="<%= product.id %>" /></input><select id="variants" class="selectpicker form-control input-lg"><% _.each(unavailable_variants, function (variant) { %><option value="<%= variant.id %>"><%= variant.title %></option><% }) %></select></div></div><div class="form-group"><div class="col-sm-12"><input type="email" id="email" placeholder="<%= email_field_label %>" class="form-control input-lg" value="" /></input></div><div id="newsletter_subscription"><p><input type="checkbox" id="subscribe_for_newsletter" <%= newsletter_subscribe_checked %>><label for="subscribe_for_newsletter" style="margin-left:10px;"><%= newsletter_subscribe_label %></label></p></div></div><div class="control-group clearfix submit-container"><button type="submit" class="btn btn-success btn-lg col-xs-12"><%= button_label %></button></div><div id="error_message" class="error_message alert alert-danger"></div><div id="completed_message" class="completed_message alert alert-success"><%= subscription_success_label %> <a href="#" class="klaviyo-bis-close"><%= close_label %></a></div></form><p class="small-print"><%= footer_content %></p><% if (is_powered_by_link) { %><p class="small-print powered-by text-right">Powered by <a href="https://www.klaviyo.com" target="_blank">Klaviyo</a></p><% } %></div></div>'},function(u,c){v.core.templates.register(c,u)}),v.components.back_in_stock.Modal=ft.Model.extend(),v.components.back_in_stock.ModalView=ft.View.extend({initialize:function(u){},iframeDocument:function(){var u=this.$el[0];return u.contentDocument||u.contentWindow.document},setSelectedVariantId:function(u){this.model.set("selected_variant_id",u)},render:function(u,c){this.$el.attr({id:"klaviyo-bis-iframe",frameBorder:0,src:"about:blank",allowTransparency:!1}).css({position:"fixed",width:"100%",height:"100%",top:0,left:0,border:"0",overflow:"hidden","z-index":this.model.get("z_index"),background:"none"}).hide()},renderForm:function(u,c,f,w){var A=this;w=v.core.templates.render("back_in_stock_document.html",{variant:c,product:u,unavailable_variants:w,headline:this.model.get("headline").replace("{product_name}",u.title),body_content:this.model.get("body_content").replace("{product_name}",u.title),email_field_label:this.model.get("email_field_label"),email:"",newsletter_subscribe_label:this.model.get("newsletter_subscribe_label"),newsletter_subscribe_checked:this.model.get("subscribe_checked")?"checked":"",is_quantity_field_enabled:this.model.get("is_quantity_field_enabled"),quantity_required_label:this.model.get("quantity_field_label"),button_label:this.model.get("button_label"),footer_content:this.model.get("footer_content").replace("{product_name}",u.title),close_label:this.model.get("close_label"),is_powered_by_link:this.model.get("is_powered_by_link"),subscription_success_label:this.model.get("subscription_success_label").replace("{product_name}",u.title),styles:this.model.get("styles"),additional_styles:this.model.get("additional_styles"),theme:{drop_background_color:this.model.get("drop_background_color"),background_color:this.model.get("background_color"),font_family:this.model.get("font_family"),headers_font_family:this.model.get("headers_font_family"),text_color:this.model.get("text_color"),button_text_color:this.model.get("button_text_color"),button_background_color:this.model.get("button_background_color"),close_button_color:this.model.get("close_button_color"),error_background_color:this.model.get("error_background_color"),error_text_color:this.model.get("error_text_color"),success_background_color:this.model.get("success_background_color"),success_text_color:this.model.get("success_text_color")}}),u=this.iframeDocument(),u.open(),u.write(w),u.close(),w=function(R){j(R.target).hasClass("klaviyo-bis-close")&&(R.preventDefault(),A.hide())},j(u).find("body").on("click",C.bind(w,this)).on("touchend",C.bind(w,this)).find("form").on("submit",C.bind(this.validateAndSubmitForm,this)),f===1?j(u).find("#variant_select").hide():j(u).find('#variant_select option[value="'+c.id+'"]').prop("selected",!0),this.model.get("list")||j(u).find("#newsletter_subscription").hide()},validateAndSubmitForm:function(u){u.preventDefault();var c=this,f=j(u.currentTarget);u=this.iframeDocument();var w=j(u).find("#email").val(),A=j(u).find("#subscribe_for_newsletter").prop("checked")&&j(u).find("#newsletter_subscription")[0].style.display!=="none";/@/.test(w)&&(f.find("button").attr("disabled",!0),this.hideErrorMessage(),this.hideSuccessMessage(),f="//"+this.model.get("api_hostname")+"/onsite/components/back-in-stock/subscribe",j.post(f,{a:this.model.get("account"),email:w,g:this.model.get("list"),variant:j(u).find("#variants").val(),product:j(u).find("#product").val(),platform:this.model.get("platform"),subscribe_for_newsletter:A},function(R,z,$){j(c.iframeDocument()).find("form").find("button").removeAttr("disabled"),R.success?c.showSuccessMessage():c.showErrorMessage(R.errors.join(" "))}))},showSuccessMessage:function(){j(this.iframeDocument()).find("#completed_message").show(),C.delay(C.bind(this.hide,this),3e5)},hideSuccessMessage:function(){j(this.iframeDocument()).find("#completed_message").hide()},showErrorMessage:function(u){j(this.iframeDocument()).find("#error_message").text(u).show()},hideErrorMessage:function(){j(this.iframeDocument()).find("#error_message").hide()},show:function(){this.$el.show(),j(this.iframeDocument()).find("body").addClass("fadein").find('[name="email"]').focus()},hide:function(){this.$el.hide(),this.hideSuccessMessage(),j(this.iframeDocument()).find("body").addClass("fadein")}}),v.components=v.components||{};var gt={backinstock:v.components.back_in_stock.create};v.components.Router={_settings:{api_hostname:"a.klaviyo.com",logging:!0,account:null,list:null,platform:null},_components:{},init:function(u){C.extend(this._settings,u)},logging:function(u){v.core.LOGGING_ENABLED=!!u},enable:function(u,c){this._components[u]||gt[u]&&(this._components[u]=gt[u](this._settings,c))}};var ct=Y.klaviyo;ct&&ct._initialized||(C.isArray(ct)||(Y.klaviyo=[],ct=Y.klaviyo),C.each(["init","logging","enable"],function(u){ct[u]=function(){var c=[].slice.call(arguments);return ct.push([u].concat(c))}}),ht(function(u){for(v.core.log("Initializing."),u=function(c){if(v.core.log("Executing: "+c[0]),C.isArray(c)&&c&&v.components.Router[c[0]])return v.components.Router[c[0]].apply(v.components.Router,c.slice(1))};ct.length;)u(ct.shift());ct.push=u,ct._initialized=!0}))})(window);
//# sourceMappingURL=/s/files/1/3047/6286/t/124/assets/test.js.map?v=1640290407
