<script type="text/javascript">{%raw%}(function(){if(typeof SECOMAPP==="undefined"){SECOMAPP={}};if(typeof Shopify==="undefined"){Shopify={}};SECOMAPP.fg_ver=1669923592;SECOMAPP.fg_scriptfile="freegifts_20220309.min.js";SECOMAPP.gifts_list_avai={"43149491175616":true,"43149491208384":true,"43149491241152":true,"43149491273920":true,"43149491306688":true,"43149491339456":true,"43149491372224":true,"43149491404992":true,"43149491437760":true,"43149491470528":true,"43149491503296":true,"43149491536064":true,"43149491568832":true,"43149491601600":true,"43149491634368":true,"43149491667136":true,"43149491699904":true,"43149491732672":true,"43149491765440":true,"43149491798208":true,"43149491830976":true,"43149491863744":true,"43149491896512":true,"43149491929280":true,"43149491962048":true,"43149492027584":true,"43149492060352":true,"43149492093120":true,"43149492125888":true,"43149492158656":true,"43149492191424":true,"43149492355264":true,"43149492388032":true,"43149492420800":true,"43149492453568":true,"43149492486336":true,"43149492519104":true,"43149492551872":true,"43323176878272":false,"43325252370624":false,"42932841709760":true,"42932842725568":true,"42932844101824":true,"42932846788800":true,"42932846919872":true,"42978811936960":true,"42978811969728":true,"42978812002496":true,"42978812035264":true,"42978812068032":true,"42978812100800":true,"42978812133568":true,"42978812166336":true,"42978812199104":true,"42978812231872":true,"42978812264640":true,"42978812297408":true,"42978812330176":true,"42978812362944":true,"42978812395712":true,"43259238580416":true,"43259238645952":true,"43259238711488":true,"43259238809792":false,"43259238875328":true,"42972741959872":true,"42972741992640":true,"42972742025408":false,"42972742058176":true,"42972742090944":true,"42972742123712":false,"42972742156480":true,"42972742189248":true,"42972742222016":true,"42972742254784":true,"42972742287552":true,"42972742320320":false,"42972742549696":true,"42972742582464":true,"42972742615232":true,"42972742648000":false,"42972742680768":true,"42972742713536":true,"42972742746304":true,"42972742779072":false,"42972742811840":true,"42972742844608":true,"42972742877376":true,"42972742910144":true,"42972742942912":true,"42972742975680":true,"42972743008448":true,"42972743041216":true,"42972743073984":false,"42972743106752":true,"42972743139520":true,"42972743172288":false,"42972743205056":true,"42972743237824":true,"42972743270592":false,"42972743303360":true,"42972743336128":true,"42972743368896":false,"42972743401664":true,"42972743434432":true,"42972743467200":false,"42972743499968":false,"42972743532736":false,"42972743565504":true,"42972743598272":false,"42972743631040":true,"42972743663808":false,"42972743696576":true,"42972743729344":false,"42972743762112":false,"42972743794880":true,"42972743827648":true,"42972743860416":true,"42972743893184":true,"42972743925952":false,"42972743958720":true,"42972743991488":false,"42972744024256":true,"42972744057024":true,"42972744089792":true,"42972744253632":true,"42972744286400":true,"42972744319168":true,"42972744351936":true,"42972744384704":true,"42972744417472":true,"42972744450240":true,"42972744483008":true,"42972744515776":true,"42972744614080":true,"42972744646848":true,"42972744679616":true,"42972744712384":true,"42972744810688":true,"42972744843456":true,"42972744908992":true,"43250633474240":true,"43136909377728":true,"43322412761280":true,"43322412794048":true,"43322412826816":true,"43322412859584":true,"43322412892352":true,"43322412925120":true,"43322412957888":true,"43322412990656":true,"43322413023424":true,"43322413088960":true,"43322413121728":true,"43322413154496":true,"43322413187264":true,"43322413220032":true,"43322413252800":true,"43322413285568":true,"43322413318336":true,"43322413351104":true,"43322413383872":true,"43322413416640":true,"43322413449408":true,"43322413482176":true,"43322413514944":true,"42905295814848":true,"43152064544960":true,"43152064577728":true,"43152064610496":true,"43152064643264":true,"43152064676032":true,"43152064741568":true,"43152064774336":true,"43152064807104":true,"43152064839872":true,"43152064872640":true,"43152064905408":true,"43152064938176":true,"43152065003712":true,"43152065036480":true,"43152065069248":true,"43152065102016":true,"43152065134784":true,"43152065167552":true,"43152065200320":true,"43152065233088":true,"43152065331392":true,"43152065364160":true,"43152065396928":true,"43152065429696":true,"43152065462464":true,"43152065495232":true,"43152065560768":true,"43152065626304":true,"43152065659072":true,"43152065691840":true,"43152065724608":true,"43152065757376":true,"43152065855680":true,"43152065888448":true,"43152065921216":true,"43152065953984":true,"43152065986752":true,"43152066019520":true,"43250633670848":true,"43322413547712":true,"43322413580480":true,"43322413613248":true,"43322413678784":true,"43322413711552":true,"43322413744320":true,"43322413777088":true,"43322413809856":true,"43322413842624":true,"43322413875392":true,"43322413908160":true,"43322413940928":true,"43322413973696":true,"43250633736384":true,"43321475334336":true,"43322414235840":true,"43322414268608":true,"43322414301376":true,"43322414334144":true,"43322414366912":true,"43322415055040":true,"43322415087808":true};})();{%endraw%}</script>
{% assign sca_all_gift_products_ids =",7212325142720,7143383400640,7184852713664,7147204608192,7147205394624,7135470190784,7212336840896,7259125678272,7289867108544,7010955067584,6996184105152,7405245071552,7140731945152,7140731846848,7140732371136,7140732240064,7140732108992,7135460425920,7135459442880,7135459049664,7118397538496,7118393868480,7118382170304,7003293778112,757679456373,4563525304402,4761352241234,6616973803712,4722108268626,4575002427474,7383229857984,757680996469,7367541293248,7147213455552,7348619935936,7291617247424,7383231725760,6975847858368,7140739875008,6975738740928,7383227465920,6743653646528,6977104937152,6880727957696," %}
<script data-cfasync="false" type="text/javascript">
  /* Smart Ecommerce App (SEA Inc)
  * http://www.secomapp.com
  * Do not reuse those source codes if don't have permission of us.
  * */
  {%if template =='product' and product.vendor =='freegifts' and product.metafields.secomapp['freegifts.product_url'] %}
    window.location.replace("{{product.metafields.secomapp['freegifts.product_url']}}");
  {%endif%}
  {%raw%}
  !function(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t,o=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.push(t);return o}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var o=this.toString();(void 0===t||t>o.length)&&(t=o.length),t-=e.length;var r=o.indexOf(e,t);return-1!==r&&r===t},writable:!0,enumerable:!0,configurable:!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var n=+t||0;if(Math.abs(n)===1/0&&(n=0),n>=i)return-1;for(o=Math.max(n>=0?n:i-Math.abs(n),0);o<i;){if(o in r&&r[o]===e)return o;o++}return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var o,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),n=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(o=t),r=0;r<n;){var a;r in i&&(a=i[r],e.call(o,a,r,i)),r++}}),console=console||{},console.log=console.log||function(){},"undefined"==typeof Shopify&&(Shopify={}),"function"!=typeof Shopify.onError&&(Shopify.onError=function(){}),"undefined"==typeof SECOMAPP&&(SECOMAPP={}),SECOMAPP.removeGiftsVariant=function(e){setTimeout(function(){try{e("select option").not(".sca-fg-cart-item select option").filter(function(){var t=e(this).val(),o=e(this).text();-1!==o.indexOf(" - ")&&(o=o.slice(0,o.indexOf(" - ")));var r=[];return-1!==o.indexOf(" / ")&&(r=o.split(" / "),o=r[r.length-1]),!!(void 0!==SECOMAPP.gifts_list_avai&&void 0!==SECOMAPP.gifts_list_avai[t]||o.endsWith("% off)"))&&(e(this).parent("select").find("option").not(".sca-fg-cart-item select option").filter(function(){var r=e(this).val();return e(this).text().endsWith(o)||r==t}).remove(),e(".dropdown *,ul li,label,div").filter(function(){var r=e(this).html(),i=e(this).data("value");return r&&r.endsWith(o)||i==t}).remove(),!0)})}catch(e){console.log(e)}},500)},SECOMAPP.formatMoney=function(e,t){"string"==typeof e&&(e=e.replace(".",""));var o="",r="undefined"!=typeof Shopify&&void 0!==Shopify.money_format?Shopify.money_format:"{{amount}}",i=/\{\{\s*(\w+)\s*\}\}/,n=t||(void 0!==this.fgsettings&&"string"==typeof this.fgsettings.sca_currency_format&&this.fgsettings.sca_currency_format.indexOf("amount")>-1?this.fgsettings.sca_currency_format:null)||r;if(n.indexOf("amount_no_decimals_no_comma_separator")<0&&n.indexOf("amount_no_comma_separator_up_cents")<0&&n.indexOf("amount_up_cents")<0&&"function"==typeof Shopify.formatMoney)return Shopify.formatMoney(e,n);function a(e,t){return void 0===e?t:e}function s(e,t,o,r,i,n){if(t=a(t,2),o=a(o,","),r=a(r,"."),isNaN(e)||null==e)return 0;var s=(e=(e/100).toFixed(t)).split(".");return s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+o)+(s[1]?i&&n?i+s[1]+n:r+s[1]:"")}switch(n.match(i)[1]){case"amount":o=s(e,2);break;case"amount_no_decimals":o=s(e,0);break;case"amount_with_comma_separator":o=s(e,2,",",".");break;case"amount_no_decimals_with_comma_separator":o=s(e,0,",",".");break;case"amount_no_decimals_no_comma_separator":o=s(e,0,"","");break;case"amount_up_cents":o=s(e,2,",","","<sup>","</sup>");break;case"amount_no_comma_separator_up_cents":o=s(e,2,"","","<sup>","</sup>")}return n.replace(i,o)},SECOMAPP.setCookie=function(e,t,o,r,i){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3+60*r*1e3);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+(i?";path="+i:";path=/")},SECOMAPP.deleteCookie=function(e,t){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; "+(t?";path="+t:";path=/")},SECOMAPP.getCookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var i=o[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},SECOMAPP.getQueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var r=t[o].split("=");if(void 0===e[r[0]])e[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof e[r[0]]){var i=[e[r[0]],decodeURIComponent(r[1])];e[r[0]]=i}else e[r[0]].push(decodeURIComponent(r[1]))}return e},SECOMAPP.freegifts_product_json=function(e){if(Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var o=this.toString();(void 0===t||t>o.length)&&(t=o.length),t-=e.length;var r=o.indexOf(e,t);return-1!==r&&r===t}}),e){if(e.options&&Array.isArray(e.options))for(var t=0;t<e.options.length;t++){if(void 0!==e.options[t]&&void 0!==e.options[t].values)if((r=e.options[t]).values&&Array.isArray(r.values))for(var o=0;o<r.values.length;o++)(r.values[o].endsWith("(Freegifts)")||r.values[o].endsWith("% off)"))&&(r.values.splice(o,1),o--)}if(e.options_with_values&&Array.isArray(e.options_with_values))for(t=0;t<e.options_with_values.length;t++){var r;if(void 0!==e.options_with_values[t]&&void 0!==e.options_with_values[t].values)if((r=e.options_with_values[t]).values&&Array.isArray(r.values))for(o=0;o<r.values.length;o++)(r.values[o].title.endsWith("(Freegifts)")||r.values[o].title.endsWith("% off)"))&&(r.values.splice(o,1),o--)}var i=e.price,n=e.price_max,a=e.price_min,s=e.compare_at_price,c=e.compare_at_price_max,f=e.compare_at_price_min;if(e.variants&&Array.isArray(e.variants))for(var p=0;e.variants.length,void 0!==e.variants[p];p++){var l=e.variants[p],u=l.option3?l.option3:l.option2?l.option2:l.option1?l.option1:l.title?l.title:"";"undefined"!=typeof SECOMAPP&&void 0!==SECOMAPP.gifts_list_avai&&void 0!==SECOMAPP.gifts_list_avai[l.id]||u.endsWith("(Freegifts)")||u.endsWith("% off)")?(e.variants.splice(p,1),p-=1):((!n||n>=l.price)&&(n=l.price,i=l.price),(!a||a<=l.price)&&(a=l.price),l.compare_at_price&&((!c||c>=l.compare_at_price)&&(c=l.compare_at_price,s=l.compare_at_price),(!f||f<=l.compare_at_price)&&(f=l.compare_at_price)),void 0!==l.available&&1==l.available&&(e.available=!0))}e.price=i,e.price_max=a==n?null:a,e.price_min=n==a?null:n,e.compare_at_price=s,e.compare_at_price_max=f,e.compare_at_price_min=c,e.price_varies=n<a,e.compare_at_price_varies=c<f}return e},SECOMAPP.fg_codes=[],""!==SECOMAPP.getCookie("sca_fg_codes")&&(SECOMAPP.fg_codes=JSON.parse(SECOMAPP.getCookie("sca_fg_codes")));var e=SECOMAPP.getQueryString();e.freegifts_code&&-1===SECOMAPP.fg_codes.indexOf(e.freegifts_code)&&(void 0!==SECOMAPP.activateOnlyOnePromoCode&&!0===SECOMAPP.activateOnlyOnePromoCode&&(SECOMAPP.fg_codes=[]),SECOMAPP.fg_codes.push(e.freegifts_code),SECOMAPP.setCookie("sca_fg_codes",JSON.stringify(SECOMAPP.fg_codes)))}();
  {%endraw%}
  ;SECOMAPP.customer={};SECOMAPP.customer.orders=[];SECOMAPP.customer.freegifts=[];{% for order in customer.orders %}SECOMAPP.customer.orders.push({"financial_status": {{order.financial_status|json}},"total_price": {{order.total_price|json}},"created_at": "{{order.created_at | date:'%s'}}" });{% for line_item in order.line_items %}{%if line_item.variant.metafields.secomapp.freegifts or line_item.variant.title contains '(Freegifts)' or line_item.vendor == 'freegifts'%}SECOMAPP.customer.freegifts.push({{line_item.variant.id}});{%endif%}{%if line_item.discount_allocations[0].discount_application.title == 'FreeGift'%}SECOMAPP.customer.freegifts.push('{{line_item.variant.id}}_{{line_item.discount_allocations[0].amount}}');{%endif%}{% endfor %}{% endfor %};SECOMAPP.customer.email={{customer.email | json}};SECOMAPP.customer.first_name={{customer.first_name | json}};SECOMAPP.customer.last_name={{customer.last_name | json}};SECOMAPP.customer.tags={{customer.tags | json}};SECOMAPP.customer.orders_count={{customer.orders_count | json}};SECOMAPP.customer.total_spent={{customer.total_spent | json}};{%if customer.last_order.financial_status =='paid' %}SECOMAPP.customer.last_order='{{customer.last_order.created_at}}';SECOMAPP.customer.last_total={{customer.last_order.total_price | json}};{% endif %}{% assign foundFreeGift=false %}{% if template contains 'cart' %}SECOMAPP.shopcart={{ cart | json }};var cic=[];{% for item in cart.items %}{%if item.product.collections%}{% capture results %}[{% for collection in item.product.collections %}{{ collection.id | json }}{% unless forloop.last %},{% endunless %}{% endfor %}]{% endcapture %}cic[{{item.id}}]={{results}};{%endif%}{% endfor %}SECOMAPP.cart_item_collection = cic;{% endif %}
</script>